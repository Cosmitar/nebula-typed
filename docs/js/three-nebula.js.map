{"version":3,"sources":["webpack://Nebula/webpack/universalModuleDefinition","webpack://Nebula/webpack/bootstrap","webpack://Nebula/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/createClass.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/inherits.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/get.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://Nebula/./node_modules/lodash/isNumber.js","webpack://Nebula/./node_modules/lodash/_baseGetTag.js","webpack://Nebula/./node_modules/lodash/isObjectLike.js","webpack://Nebula/./node_modules/lodash/sample.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/construct.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://Nebula/./node_modules/lodash/_arraySample.js","webpack://Nebula/./node_modules/lodash/_Symbol.js","webpack://Nebula/./node_modules/lodash/_root.js","webpack://Nebula/./node_modules/lodash/_freeGlobal.js","webpack://Nebula/./node_modules/lodash/isArray.js","webpack://Nebula/(webpack)/buildin/module.js","webpack://Nebula/./node_modules/lodash/isLength.js","webpack://Nebula/./node_modules/uuid/v1.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://Nebula/./node_modules/uuid/lib/rng-browser.js","webpack://Nebula/./node_modules/uuid/lib/bytesToUuid.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/typeof.js","webpack://Nebula/./node_modules/lodash/_baseRandom.js","webpack://Nebula/./node_modules/lodash/_baseSample.js","webpack://Nebula/./node_modules/lodash/values.js","webpack://Nebula/./node_modules/lodash/_baseValues.js","webpack://Nebula/./node_modules/lodash/_arrayMap.js","webpack://Nebula/./node_modules/lodash/keys.js","webpack://Nebula/./node_modules/lodash/_arrayLikeKeys.js","webpack://Nebula/./node_modules/lodash/_baseTimes.js","webpack://Nebula/./node_modules/lodash/isArguments.js","webpack://Nebula/./node_modules/lodash/_baseIsArguments.js","webpack://Nebula/(webpack)/buildin/global.js","webpack://Nebula/./node_modules/lodash/_getRawTag.js","webpack://Nebula/./node_modules/lodash/_objectToString.js","webpack://Nebula/./node_modules/lodash/isBuffer.js","webpack://Nebula/./node_modules/lodash/stubFalse.js","webpack://Nebula/./node_modules/lodash/_isIndex.js","webpack://Nebula/./node_modules/lodash/isTypedArray.js","webpack://Nebula/./node_modules/lodash/_baseIsTypedArray.js","webpack://Nebula/./node_modules/lodash/_baseUnary.js","webpack://Nebula/./node_modules/lodash/_nodeUtil.js","webpack://Nebula/./node_modules/lodash/_baseKeys.js","webpack://Nebula/./node_modules/lodash/_isPrototype.js","webpack://Nebula/./node_modules/lodash/_nativeKeys.js","webpack://Nebula/./node_modules/lodash/_overArg.js","webpack://Nebula/./node_modules/lodash/isArrayLike.js","webpack://Nebula/./node_modules/lodash/isFunction.js","webpack://Nebula/./node_modules/lodash/isObject.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://Nebula/./src/core/three/Vector3.js","webpack://Nebula/./src/core/three/Matrix4.js","webpack://Nebula/./src/core/three/Euler.js","webpack://Nebula/./src/behaviour/types.js","webpack://Nebula/./src/initializer/types.js","webpack://Nebula/./src/zone/types.js","webpack://Nebula/./src/renderer/types.js","webpack://Nebula/./src/constants/index.js","webpack://Nebula/./src/ease/index.js","webpack://Nebula/./src/core/constants.js","webpack://Nebula/./src/utils/ColorUtil.js","webpack://Nebula/./src/utils/PUID.js","webpack://Nebula/./src/core/three/Math.js","webpack://Nebula/./src/core/three/Quaternion.js","webpack://Nebula/./src/core/three/constants.js","webpack://Nebula/./src/utils/THREEUtil.js","webpack://Nebula/./src/utils/Util.js","webpack://Nebula/./src/utils/uid.js","webpack://Nebula/./src/utils/index.js","webpack://Nebula/./src/math/MathUtils.js","webpack://Nebula/./src/math/types.js","webpack://Nebula/./src/math/Span.js","webpack://Nebula/./src/math/ArraySpan.js","webpack://Nebula/./src/math/ColorSpan.js","webpack://Nebula/./src/math/Box.js","webpack://Nebula/./src/math/constants.js","webpack://Nebula/./src/math/integration.js","webpack://Nebula/./src/math/Vector3D.js","webpack://Nebula/./src/math/Polar3D.js","webpack://Nebula/./src/core/types.js","webpack://Nebula/./src/core/Particle.js","webpack://Nebula/./src/core/Pool.js","webpack://Nebula/./src/events/index.js","webpack://Nebula/./src/events/EventDispatcher.js","webpack://Nebula/./src/initializer/Initializer.js","webpack://Nebula/./src/initializer/Body.js","webpack://Nebula/./src/initializer/constants.js","webpack://Nebula/./src/zone/ScreenZone.js","webpack://Nebula/./src/initializer/BodySprite.js","webpack://Nebula/./src/initializer/InitializerUtil.js","webpack://Nebula/./src/initializer/Life.js","webpack://Nebula/./src/initializer/Mass.js","webpack://Nebula/./src/zone/Zone.js","webpack://Nebula/./src/zone/BoxZone.js","webpack://Nebula/./src/zone/LineZone.js","webpack://Nebula/./src/zone/MeshZone.js","webpack://Nebula/./src/zone/PointZone.js","webpack://Nebula/./src/zone/SphereZone.js","webpack://Nebula/./src/initializer/Position.js","webpack://Nebula/./src/initializer/Radius.js","webpack://Nebula/./src/initializer/Rate.js","webpack://Nebula/./src/initializer/Texture.js","webpack://Nebula/./src/initializer/Velocity/Velocity.js","webpack://Nebula/./src/initializer/Velocity/PolarVelocity.js","webpack://Nebula/./src/initializer/Velocity/RadialVelocity.js","webpack://Nebula/./src/initializer/Velocity/VectorVelocity.js","webpack://Nebula/./src/emitter/constants.js","webpack://Nebula/./src/emitter/types.js","webpack://Nebula/./src/emitter/Emitter.js","webpack://Nebula/./src/events/constants.js","webpack://Nebula/./src/behaviour/constants.js","webpack://Nebula/./src/behaviour/Behaviour.js","webpack://Nebula/./src/behaviour/Alpha.js","webpack://Nebula/./src/behaviour/Attraction.js","webpack://Nebula/./src/behaviour/Collision.js","webpack://Nebula/./src/behaviour/Color.js","webpack://Nebula/./src/behaviour/CrossZone.js","webpack://Nebula/./src/behaviour/Force.js","webpack://Nebula/./src/behaviour/Gravity.js","webpack://Nebula/./src/behaviour/RandomDrift.js","webpack://Nebula/./src/behaviour/Repulsion.js","webpack://Nebula/./src/behaviour/Rotate.js","webpack://Nebula/./src/behaviour/Scale.js","webpack://Nebula/./src/behaviour/Spring.js","webpack://Nebula/./src/core/fromJSON.js","webpack://Nebula/./src/core/fromJSONAsync.js","webpack://Nebula/./src/core/System.js","webpack://Nebula/./src/debug/Debug.js","webpack://Nebula/./src/debug/constants.js","webpack://Nebula/./src/debug/log.js","webpack://Nebula/./src/emitter/FollowEmitter.js","webpack://Nebula/./src/renderer/BaseRenderer.js","webpack://Nebula/./src/renderer/CustomRenderer.js","webpack://Nebula/./src/renderer/MeshRenderer.js","webpack://Nebula/./src/renderer/PointsRenderer.js","webpack://Nebula/./src/renderer/SpriteRenderer.js","webpack://Nebula/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_typeof","assertThisInitialized","self","subClass","superClass","constructor","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","obj","baseGetTag","isObjectLike","numberTag","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","undefined","arraySample","baseSample","isArray","collection","_construct","Parent","args","Class","construct","sham","Proxy","Date","toString","e","isNativeReflectConstruct","a","push","apply","Function","arguments","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","ReferenceError","_setPrototypeOf","baseRandom","array","freeGlobal","freeSelf","global","Array","webpackPolyfill","deprecate","paths","children","MAX_SAFE_INTEGER","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","options","buf","offset","b","node","clockseq","seedBytes","msecs","getTime","nsecs","dt","Error","tl","tmh","objectWithoutPropertiesLoose","source","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","Math","random","byteToHex","substr","bth","join","_typeof2","iterator","nativeFloor","floor","nativeRandom","lower","upper","values","baseValues","keys","arrayMap","iteratee","index","result","arrayLikeKeys","baseKeys","isArrayLike","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","baseIsArguments","objectProto","argsTag","g","this","nativeObjectToString","isOwn","tag","unmasked","stubFalse","freeExports","nodeType","freeModule","Buffer","reIsUint","type","test","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isLength","typedArrayTags","func","freeProcess","process","types","require","binding","isPrototype","nativeKeys","Ctor","overArg","transform","arg","isFunction","isObject","asyncTag","funcTag","genTag","proxyTag","arr2","iter","from","sourceKeys","v1","quaternion","vector","matrix","x","y","z","zero","one","q","BEHAVIOUR_TYPE_ABSTRACT","BEHAVIOUR_TYPE_ALPHA","BEHAVIOUR_TYPE_ATTRACTION","BEHAVIOUR_TYPE_COLLISION","BEHAVIOUR_TYPE_COLOR","BEHAVIOUR_TYPE_CROSS_ZONE","BEHAVIOUR_TYPE_FORCE","BEHAVIOUR_TYPE_GRAVITY","BEHAVIOUR_TYPE_RANDOM_DRIFT","BEHAVIOUR_TYPE_REPULSION","BEHAVIOUR_TYPE_ROTATE","BEHAVIOUR_TYPE_SCALE","BEHAVIOUR_TYPE_SPRING","INITIALIZER_TYPE_ABSTRACT","INITIALIZER_TYPE_BODY","INITIALIZER_TYPE_BODY_SPRITE","INITIALIZER_TYPE_TEXTURE","INITIALIZER_TYPE_LIFE","INITIALIZER_TYPE_MASS","INITIALIZER_TYPE_POSITION","INITIALIZER_TYPE_RADIUS","INITIALIZER_TYPE_VECTOR_VELOCITY","INITIALIZER_TYPE_POLAR_VELOCITY","INITIALIZER_TYPE_RADIAL_VELOCITY","INITIALIZER_TYPE_RATE","INITIALIZER_TYPES_THAT_REQUIRE_THREE","ZONE_TYPE_ABSTRACT","ZONE_TYPE_BOX","ZONE_TYPE_LINE","ZONE_TYPE_MESH","ZONE_TYPE_POINT","ZONE_TYPE_SCREEN","ZONE_TYPE_SPHERE","RENDERER_TYPE_BASE","RENDERER_TYPE_CUSTOM","RENDERER_TYPE_SPRITE","RENDERER_TYPE_MESH","RENDERER_TYPE_POINTS","PI","POOL_MAX","DR","ease","easeLinear","easeInQuad","pow","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInSine","cos","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","setEasingByName","easeName","getEasingByName","DEFAULT_LIFE","Infinity","DEFAULT_AGE","DEFAULT_ENERGY","DEFAULT_DEAD","DEFAULT_SLEEP","DEFAULT_BODY","DEFAULT_PARENT","DEFAULT_MASS","DEFAULT_RADIUS","DEFAULT_ALPHA","DEFAULT_SCALE","DEFAULT_USE_COLOR","DEFAULT_USE_ALPHA","DEFAULT_EASING","SUPPORTED_JSON_INITIALIZER_TYPES","SUPPORTED_JSON_BEHAVIOUR_TYPES","SUPPORTED_JSON_ZONE_TYPES","ColorUtil","getRGB","color","rgb","hex","exec","min","parseInt","charAt","PUID","_id","_uids","id","functionOrObject","nid","_Math","DEG2RAD","RAD2DEG","generateUUID","lut","d0","d1","d2","d3","toUpperCase","clamp","max","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Quaternion","w","_x","_y","_z","_w","Vector3","Matrix4","elements","console","error","Euler","order","_order","DefaultOrder","assign","slerp","qa","qb","qm","copy","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","EPSILON","len","atan2","tDir","f","defineProperties","set","_onChangeCallback","isQuaternion","clone","setFromEuler","euler","update","isEuler","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","angle","halfAngle","setFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","dot","abs","normalize","angleTo","acos","rotateTowards","step","inverse","conjugate","v","lengthSq","multiply","warn","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","equals","fromArray","toArray","_onChange","callback","isVector3","setScalar","scalar","setX","setY","setZ","setComponent","getComponent","add","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiplyVectors","multiplyScalar","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix3","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","manhattanLength","setLength","alpha","lerpVectors","v2","cross","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","theta","distanceTo","distanceToSquared","dx","dy","dz","manhattanDistanceTo","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","fromBufferAttribute","attribute","getX","getY","getZ","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","multiplyMatrices","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","count","setXYZ","determinant","transpose","tmp","setPosition","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","makeShear","position","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","THREEUtil","toScreenPos","pos","canvas","width","height","toSpacePos","distance","Util","initValue","defaults","destroyArray","destroyObject","isUndefined","setVectorByObj","pOBJ","velocity","acceleration","setPrototypeByObj","proObj","filters","_getValue","pan","getValue","uid","withDefaults","properties","_objectSpread","MathUtils","randomAToB","INT","randomFloating","center","randomZone","display","degreeTransform","toColor16","num","randomColor","slice","energy","getNormal","axisRotate","v0","k","tha","addValue","MATH_TYPE_ARRAY_SPAN","MATH_TYPE_COLOR_SPAN","MATH_TYPE_BOX","MATH_TYPE_POLAR_3D","MATH_TYPE_SPAN","Span","classCallCheck_default","_isArray","_center","createSpan","ArraySpan","items","_this","possibleConstructorReturn_default","getPrototypeOf_default","sample","createArraySpan","ColorSpan","colors","shouldRandomize","createColorSpan","Box","depth","INTEGRATION_TYPE_EULER","eulerIntegration","particle","time","damping","sleep","old","mass","clear","integrate","Vector3D","vector3D","Polar3D","CORE_TYPE_PARTICLE","CORE_TYPE_POOL","CORE_TYPE_SYSTEM","Particle","concat","life","age","dead","body","parent","useColor","useAlpha","easing","behaviours","rotation","removeAllBehaviours","behaviour","applyBehaviour","destroy","initialize","addBehaviour","splice","Pool","cID","list","canCreateNewObject","canInstantiateObject","canCloneObject","puid","__puid","pop","_getList","EventDispatcher","listeners","listener","removeEventListener","eventName","eventTarget","ret","handler","_listeners","Initializer","isEnabled","emitter","hasBeenInitialized","json","Body","_json$isEnabled","SUPPORTED_MATERIAL_BLENDING_MODES","AdditiveBlending","CustomBlending","MultiplyBlending","NoBlending","NormalBlending","SubtractiveBlending","DEFAULT_MATERIAL_PROPERTIES","blending","fog","DEFAULT_JSON_MATERIAL_PROPERTIES","constants_objectSpread","DEFAULT_RATE_NUM_PAN","DEFAULT_RATE_TIME_PAN","vec2","BodySprite","THREE","texture","materialProperties","Sprite","SpriteMaterial","TextureLoader","load","map","material","BodySprite_objectSpread","sprite","_json$materialPropert","particleEuler","InitializerUtil","initializers","init","bindEmitter","_emitter$rotation","Life","lifePan","_json$center","Mass","massPan","Zone","crossType","supportsCrossing","_bound","_cross","_dead","BoxZone","friction","_static","LineZone","MeshZone","bounds","geometry","vertices","rVector","PointZone","ScreenZone","renderer","dis","domElement","d4","getPosition","SphereZone","centerX","centerY","centerZ","the","zone","Position","reset","assertThisInitialized_default","zones","zoneType","params","objectWithoutProperties_default","includes","construct_default","toConsumableArray_default","Radius","oldRadius","Rate","numPan","timePan","startTime","nextTime","particlesMin","particlesMax","perSecondMin","perSecondMax","Texture","loadedTexture","Texture_objectSpread","Velocity","dirVec","vr","_useV","radiusPan","PolarVelocity","polar3d","toVector3D","polarRadius","polarTheta","polarPhi","velocityTheta","RadialVelocity","vector3d","VectorVelocity","DEFAULT_DAMPING","DEFAULT_BIND_EMITTER","DEFAULT_EMITTER_RATE","DEFAULT_BIND_EMITTER_EVENT","EMITTER_TYPE_EMITTER","EMITTER_TYPE_FOLLOW","Emitter","particles","emitterBehaviours","currentEmitTime","totalEmitTimes","bindEmitterEvent","rate","eventDispatcher","event","dispatchEvent","newPosition","_newPosition$x","_newPosition$y","_newPosition$z","newRotation","_newRotation$x","_newRotation$y","_newRotation$z","isNumber","initializer","addInitializer","addEmitterBehaviour","pool","setupParticle","dispatch","addBehaviours","generate","expire","updateEmitterBehaviours","integrationType","createParticle","removeAllInitializers","removeEmitter","DEFAULT_ATTRACITON_RADIUS","DEFAULT_ATTRACTION_FORCE_SCALAR","DEFAULT_BEHAVIOUR_EASING","DEFAULT_RANDOM_DRIFT_DELAY","Behaviour","force","mutate","_life","Alpha","alphaA","alphaB","same","get_default","energize","_same","Attraction","targetPosition","normalizeValue","radiusSq","attractionForce","Collision","useMass","onCollide","delta","otherParticle","overlap","averageMass1","averageMass2","_getAverageMass","particleA","particleB","Color","colorA","colorB","CrossZone","crossing","zoneParams","Force","fx","fy","fz","normalizeForce","Gravity","gravity","RandomDrift","driftX","driftY","driftZ","delay","randomForce","delayPan","Repulsion","Rotate","rotationType","_setRotation","fR","tR","addR","particleRotation","eulerFromDir","_rotationType","Scale","scaleA","scaleB","Spring","spring","makeBehaviours","forEach","data","fromJSON","core_fromJSON","System","_json$preParticles","preParticles","_json$integrationType","_json$emitters","emitters","system","_data$emitterBehaviou","_data$totalEmitTimes","_data$life","setRate","makeRate","setRotation","setInitializers","makeInitializers","setBehaviours","setEmitterBehaviours","emit","addEmitter","Promise","resolve","reject","numberOfInitializers","madeInitializers","doNotRequireTextureLoading","filter","_ref","doRequireTextureLoading","_ref2","textureLoader","TextureInitializer","fromJSONAsync_objectSpread","numberOfBehaviours","madeBehaviours","makeEmitters","madeEmitters","numberOfEmitters","then","madeEmitterBehaviours","canUpdate","renderers","remove","total","madeEmitter","fromJSONAsync","Debug","addEventListener","onSystemUpdated","drawZone","container","wireframe","_zone$width","_zone$height","_zone$depth","_zone$radius","_zone$x","_zone$y","_zone$z","isPointZone","SphereGeometry","isLineZone","isBoxZone","BoxGeometry","isSphereZone","isMeshZone","MeshBasicMaterial","mesh","Mesh","drawEmitter","OctahedronGeometry","renderInfo","getCreatedNumber","style","addInfo","str","_infoType","getEmitterPos","getCount","_infoCon","innerHTML","bg","document","createElement","cssText","parentNode","appendChild","once","shift","unshift","FollowEmitter","mouseTarget","pObj","_allowEmitting","initEventHandler","mousemoveHandler","mousemove","mousedownHandler","mousedown","mouseupHandler","mouseup","layerX","layerY","offsetX","offsetY","BaseRenderer","onSystemUpdate","onParticleCreated","onParticleUpdate","onParticleDead","CustomRenderer","targetPool","materialPool","MeshRenderer","_targetPool","_materialPool","_body","MeshLambertMaterial","opacity","transparent","PointsRenderer","ps","points","SpriteRenderer","__webpack_exports__","Alpha_Alpha","Attraction_Attraction","Collision_Collision","Color_Color","CrossZone_CrossZone","Force_Force","Gravity_Gravity","RandomDrift_RandomDrift","Repulsion_Repulsion","Rotate_Rotate","Scale_Scale","Spring_Spring","ease_ease","ease_easeInSine","ease_easeOutSine","ease_easeInOutSine","FollowEmitter_FollowEmitter","Emitter_Emitter","Body_Body","BodySprite_BodySprite","Life_Life","Mass_Mass","Position_Position","Radius_Radius","Rate_Rate","Texture_Texture","VectorVelocity_VectorVelocity","PolarVelocity_PolarVelocity","RadialVelocity_RadialVelocity","ArraySpan_ArraySpan","ColorSpan_ColorSpan","Box_Box","integration_integrate","Polar3D_Polar3D","Span_Span","Vector3D_Vector3D","CustomRenderer_CustomRenderer","MeshRenderer_MeshRenderer","PointsRenderer_PointsRenderer","SpriteRenderer_SpriteRenderer","BoxZone_BoxZone","LineZone_LineZone","MeshZone_MeshZone","PointZone_PointZone","ScreenZone_ScreenZone","SphereZone_SphereZone","System_System","Particle_Particle","Pool_Pool"],"mappings":"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","file":"three-nebula.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nebula\"] = factory();\n\telse\n\t\troot[\"Nebula\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 59);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var arraySample = require('./_arraySample'),\n    baseSample = require('./_baseSample'),\n    isArray = require('./isArray');\n\n/**\n * Gets a random element from `collection`.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n * @example\n *\n * _.sample([1, 2, 3, 4]);\n * // => 2\n */\nfunction sample(collection) {\n  var func = isArray(collection) ? arraySample : baseSample;\n  return func(collection);\n}\n\nmodule.exports = sample;\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var baseRandom = require('./_baseRandom');\n\n/**\n * A specialized version of `_.sample` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @returns {*} Returns the random element.\n */\nfunction arraySample(array) {\n  var length = array.length;\n  return length ? array[baseRandom(0, length - 1)] : undefined;\n}\n\nmodule.exports = arraySample;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","var arraySample = require('./_arraySample'),\n    values = require('./values');\n\n/**\n * The base implementation of `_.sample`.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n */\nfunction baseSample(collection) {\n  return arraySample(values(collection));\n}\n\nmodule.exports = baseSample;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","import { _Math } from './Math.js';\nimport { Quaternion } from './Quaternion.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector3 };","import { Vector3 } from './Vector3.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix4 };","import { Quaternion } from './Quaternion.js';\nimport { Vector3 } from './Vector3.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { _Math } from './Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n\nexport { Euler };","export const BEHAVIOUR_TYPE_ABSTRACT = 'Behaviour';\nexport const BEHAVIOUR_TYPE_ALPHA = 'Alpha';\nexport const BEHAVIOUR_TYPE_ATTRACTION = 'Attraction';\nexport const BEHAVIOUR_TYPE_COLLISION = 'Collision';\nexport const BEHAVIOUR_TYPE_COLOR = 'Color';\nexport const BEHAVIOUR_TYPE_CROSS_ZONE = 'CrossZone';\nexport const BEHAVIOUR_TYPE_FORCE = 'Force';\nexport const BEHAVIOUR_TYPE_GRAVITY = 'Gravity';\nexport const BEHAVIOUR_TYPE_RANDOM_DRIFT = 'RandomDrift';\nexport const BEHAVIOUR_TYPE_REPULSION = 'Repulsion';\nexport const BEHAVIOUR_TYPE_ROTATE = 'Rotate';\nexport const BEHAVIOUR_TYPE_SCALE = 'Scale';\nexport const BEHAVIOUR_TYPE_SPRING = 'Spring';\n","export const INITIALIZER_TYPE_ABSTRACT = 'Initializer';\nexport const INITIALIZER_TYPE_BODY = 'Body';\nexport const INITIALIZER_TYPE_BODY_SPRITE = 'BodySprite';\nexport const INITIALIZER_TYPE_TEXTURE = 'Texture';\nexport const INITIALIZER_TYPE_LIFE = 'Life';\nexport const INITIALIZER_TYPE_MASS = 'Mass';\nexport const INITIALIZER_TYPE_POSITION = 'Position';\nexport const INITIALIZER_TYPE_RADIUS = 'Radius';\nexport const INITIALIZER_TYPE_ZONE = 'Zone';\nexport const INITIALIZER_TYPE_VECTOR_VELOCITY = 'VectorVelocity';\nexport const INITIALIZER_TYPE_POLAR_VELOCITY = 'PolarVelocity';\nexport const INITIALIZER_TYPE_RADIAL_VELOCITY = 'RadialVelocity';\nexport const INITIALIZER_TYPE_RATE = 'Rate';\nexport const INITIALIZER_TYPES_THAT_REQUIRE_THREE = [\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_TEXTURE,\n];\n","export const ZONE_TYPE_ABSTRACT = 'Zone';\nexport const ZONE_TYPE_BOX = 'BoxZone';\nexport const ZONE_TYPE_LINE = 'LineZone';\nexport const ZONE_TYPE_MESH = 'MeshZone';\nexport const ZONE_TYPE_POINT = 'PointZone';\nexport const ZONE_TYPE_SCREEN = 'ScreenZone';\nexport const ZONE_TYPE_SPHERE = 'SphereZone';\n","export const RENDERER_TYPE_BASE = 'BaseRenderer';\nexport const RENDERER_TYPE_CUSTOM = 'CustomRenderer';\nexport const RENDERER_TYPE_SPRITE = 'SpriteRenderer';\nexport const RENDERER_TYPE_MESH = 'MeshRenderer';\nexport const RENDERER_TYPE_POINTS = 'PointsRenderer';\n","export const PI = 3.142;\n\n/**\n * The max particle number in pool.\n *\n * @const {integer}\n */\nexport const POOL_MAX = 500;\nexport const TIME_STEP = 60;\nexport const DR = PI / 180;\n\n/**\n * 1:100\n *\n * @const {integer}\n */\nexport const MEASURE = 100;\nexport const EULER = 'euler';\nexport const RK2 = 'runge-kutta2';\nexport const RK4 = 'runge-kutta4';\nexport const VERLET = 'verlet';\nexport const PARTICLE_CREATED = 'partilcleCreated';\nexport const PARTICLE_UPDATE = 'partilcleUpdate';\nexport const PARTICLE_SLEEP = 'particleSleep';\nexport const PARTICLE_DEAD = 'partilcleDead';\nexport const SYSTEM_UPDATE = 'systemUpdate';\nexport const SYSTEM_UPDATE_AFTER = 'systemUpdateAfter';\nexport const EMITTER_ADDED = 'emitterAdded';\nexport const EMITTER_REMOVED = 'emitterRemoved';\nexport const BIND_EMITTER_EVENT = false;\n","import { PI } from '../constants';\n\n/**\n * The Ease class provides a collection of easing functions for use with System\n */\nexport const ease = {\n  easeLinear: function(value) {\n    return value;\n  },\n\n  easeInQuad: function(value) {\n    return Math.pow(value, 2);\n  },\n\n  easeOutQuad: function(value) {\n    return -(Math.pow(value - 1, 2) - 1);\n  },\n\n  easeInOutQuad: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 2);\n\n    return -0.5 * ((value -= 2) * value - 2);\n  },\n\n  easeInCubic: function(value) {\n    return Math.pow(value, 3);\n  },\n\n  easeOutCubic: function(value) {\n    return Math.pow(value - 1, 3) + 1;\n  },\n\n  easeInOutCubic: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 3);\n\n    return 0.5 * (Math.pow(value - 2, 3) + 2);\n  },\n\n  easeInQuart: function(value) {\n    return Math.pow(value, 4);\n  },\n\n  easeOutQuart: function(value) {\n    return -(Math.pow(value - 1, 4) - 1);\n  },\n\n  easeInOutQuart: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 4);\n\n    return -0.5 * ((value -= 2) * Math.pow(value, 3) - 2);\n  },\n\n  easeInSine: function(value) {\n    return -Math.cos(value * (PI / 2)) + 1;\n  },\n\n  easeOutSine: function(value) {\n    return Math.sin(value * (PI / 2));\n  },\n\n  easeInOutSine: function(value) {\n    return -0.5 * (Math.cos(PI * value) - 1);\n  },\n\n  easeInExpo: function(value) {\n    return value === 0 ? 0 : Math.pow(2, 10 * (value - 1));\n  },\n\n  easeOutExpo: function(value) {\n    return value === 1 ? 1 : -Math.pow(2, -10 * value) + 1;\n  },\n\n  easeInOutExpo: function(value) {\n    if (value === 0) return 0;\n    if (value === 1) return 1;\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (value - 1));\n\n    return 0.5 * (-Math.pow(2, -10 * --value) + 2);\n  },\n\n  easeInCirc: function(value) {\n    return -(Math.sqrt(1 - value * value) - 1);\n  },\n\n  easeOutCirc: function(value) {\n    return Math.sqrt(1 - Math.pow(value - 1, 2));\n  },\n\n  easeInOutCirc: function(value) {\n    if ((value /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - value * value) - 1);\n\n    return 0.5 * (Math.sqrt(1 - (value -= 2) * value) + 1);\n  },\n\n  easeInBack: function(value) {\n    var s = 1.70158;\n\n    return value * value * ((s + 1) * value - s);\n  },\n\n  easeOutBack: function(value) {\n    var s = 1.70158;\n\n    return (value = value - 1) * value * ((s + 1) * value + s) + 1;\n  },\n\n  easeInOutBack: function(value) {\n    var s = 1.70158;\n\n    if ((value /= 0.5) < 1)\n      return 0.5 * (value * value * (((s *= 1.525) + 1) * value - s));\n\n    return 0.5 * ((value -= 2) * value * (((s *= 1.525) + 1) * value + s) + 2);\n  }\n};\n\nexport const {\n  easeLinear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInSine,\n  easeOutSine,\n  easeInOutSine,\n  easeInExpo,\n  easeOutExpo,\n  easeInOutExpo,\n  easeInCirc,\n  easeOutCirc,\n  easeInOutCirc,\n  easeInBack,\n  easeOutBack,\n  easeInOutBack\n} = ease;\n\nexport const setEasingByName = easeName => {\n  if (ease[easeName]) return ease[easeName];\n  else return ease.easeLinear;\n};\n\nexport const getEasingByName = name =>\n  ease[name] ? ease[name] : ease.easeLinear;\n","import {\n  BEHAVIOUR_TYPE_ALPHA,\n  BEHAVIOUR_TYPE_ATTRACTION,\n  BEHAVIOUR_TYPE_COLOR,\n  BEHAVIOUR_TYPE_CROSS_ZONE,\n  BEHAVIOUR_TYPE_FORCE,\n  BEHAVIOUR_TYPE_GRAVITY,\n  BEHAVIOUR_TYPE_RANDOM_DRIFT,\n  BEHAVIOUR_TYPE_REPULSION,\n  BEHAVIOUR_TYPE_ROTATE,\n  BEHAVIOUR_TYPE_SCALE,\n  BEHAVIOUR_TYPE_SPRING,\n} from '../behaviour/types';\nimport {\n  INITIALIZER_TYPE_BODY,\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_LIFE,\n  INITIALIZER_TYPE_MASS,\n  INITIALIZER_TYPE_POLAR_VELOCITY,\n  INITIALIZER_TYPE_POSITION,\n  INITIALIZER_TYPE_RADIAL_VELOCITY,\n  INITIALIZER_TYPE_RADIUS,\n  INITIALIZER_TYPE_TEXTURE,\n  INITIALIZER_TYPE_VECTOR_VELOCITY,\n} from '../initializer/types';\nimport {\n  ZONE_TYPE_BOX,\n  ZONE_TYPE_LINE,\n  ZONE_TYPE_MESH,\n  ZONE_TYPE_POINT,\n  ZONE_TYPE_SPHERE,\n} from '../zone/types';\n\nimport { RENDERER_TYPE_SPRITE } from '../renderer/types';\nimport { easeLinear } from '../ease';\n\n/**\n * @desc Default particle life\n * @type {number}\n */\nexport const DEFAULT_LIFE = Infinity;\n/**\n * @desc Default particle age\n * @type {number}\n */\nexport const DEFAULT_AGE = 0;\n/**\n * @desc Default particle energy\n * @type {number}\n */\nexport const DEFAULT_ENERGY = 1;\n/**\n * @desc Default particle dead\n * @type {boolean}\n */\nexport const DEFAULT_DEAD = false;\n/**\n * @desc Default particle sleep\n * @type {boolean}\n */\nexport const DEFAULT_SLEEP = false;\n/**\n * @desc Default particle body\n * @type {?object}\n */\nexport const DEFAULT_BODY = null;\n/**\n * @desc Default particle parent\n * @type {?Emitter}\n */\nexport const DEFAULT_PARENT = null;\n/**\n * @desc Default particle mass\n * @type {number}\n */\nexport const DEFAULT_MASS = 1;\n/**\n * @desc Default particle radius\n * @type {number}\n */\nexport const DEFAULT_RADIUS = 10;\n/**\n * @desc Default particle alpha\n * @type {number}\n */\nexport const DEFAULT_ALPHA = 1;\n/**\n * @desc Default particle scale\n * @type {number}\n */\nexport const DEFAULT_SCALE = 1;\n/**\n * @desc Default particle useColor\n * @type {boolean}\n */\nexport const DEFAULT_USE_COLOR = false;\n/**\n * @desc Default particle useAlpha\n * @type {boolean}\n */\nexport const DEFAULT_USE_ALPHA = false;\n/**\n * @desc Default particle easing\n * @type {function}\n */\nexport const DEFAULT_EASING = easeLinear;\n\n/**\n * @desc The default delta provided to the System instance\n * @type {number}\n */\nexport const DEFAULT_SYSTEM_DELTA = 0.0167;\n\n/**\n * @desc The types of initializers supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_INITIALIZER_TYPES = [\n  INITIALIZER_TYPE_POSITION,\n  INITIALIZER_TYPE_LIFE,\n  INITIALIZER_TYPE_RADIUS,\n  INITIALIZER_TYPE_MASS,\n  INITIALIZER_TYPE_BODY,\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_TEXTURE,\n  INITIALIZER_TYPE_POLAR_VELOCITY,\n  INITIALIZER_TYPE_RADIAL_VELOCITY,\n  INITIALIZER_TYPE_VECTOR_VELOCITY,\n];\n\n/**\n * @desc The types of behaviours supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_BEHAVIOUR_TYPES = [\n  BEHAVIOUR_TYPE_ALPHA,\n  BEHAVIOUR_TYPE_ATTRACTION,\n  BEHAVIOUR_TYPE_COLOR,\n  BEHAVIOUR_TYPE_CROSS_ZONE,\n  BEHAVIOUR_TYPE_FORCE,\n  BEHAVIOUR_TYPE_GRAVITY,\n  BEHAVIOUR_TYPE_RANDOM_DRIFT,\n  BEHAVIOUR_TYPE_REPULSION,\n  BEHAVIOUR_TYPE_ROTATE,\n  BEHAVIOUR_TYPE_SCALE,\n  BEHAVIOUR_TYPE_SPRING,\n];\n\n/**\n * @desc The types of renderers supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_RENDERER_TYPES = [RENDERER_TYPE_SPRITE];\n\n/**\n * @desc The types of zones supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_ZONE_TYPES = [\n  ZONE_TYPE_BOX,\n  ZONE_TYPE_LINE,\n  ZONE_TYPE_MESH,\n  ZONE_TYPE_POINT,\n  ZONE_TYPE_SPHERE,\n];\n\nexport { INITIALIZER_TYPES_THAT_REQUIRE_THREE } from '../initializer/types';\n","export default {\n  getRGB: function(color) {\n    var rgb = {};\n\n    if (typeof color === 'number') {\n      hex = Math.floor(color);\n      rgb.r = ((color >> 16) & 255) / 255;\n      rgb.g = ((color >> 8) & 255) / 255;\n      rgb.b = (color & 255) / 255;\n    } else if (typeof color === 'string') {\n      var m;\n\n      if (\n        (m = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(\n          color\n        ))\n      ) {\n        rgb.r = Math.min(255, parseInt(m[1], 10)) / 255;\n        rgb.g = Math.min(255, parseInt(m[2], 10)) / 255;\n        rgb.b = Math.min(255, parseInt(m[3], 10)) / 255;\n        // eslint-disable-next-line no-useless-escape\n      } else if ((m = /^\\#([A-Fa-f0-9]+)$/.exec(color))) {\n        var hex = m[1];\n\n        rgb.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n        rgb.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n        rgb.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n      }\n    } else {\n      rgb.r = color.r;\n      rgb.g = color.g;\n      rgb.b = color.b;\n    }\n\n    return rgb;\n  },\n};\n","export default {\n  _id: 0,\n  _uids: {},\n  id: function(functionOrObject) {\n    for (let id in this._uids) {\n      if (this._uids[id] == functionOrObject) {\n        return id;\n      }\n    }\n\n    const nid = 'PUID_' + this._id++;\n\n    this._uids[nid] = functionOrObject;\n\n    return nid;\n  }\n};\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n\nexport { _Math };","/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nimport { _Math } from './Math.js';\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n\nexport { Quaternion };","export var REVISION = '106';\nexport var MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nexport var CullFaceNone = 0;\nexport var CullFaceBack = 1;\nexport var CullFaceFront = 2;\nexport var CullFaceFrontBack = 3;\nexport var FrontFaceDirectionCW = 0;\nexport var FrontFaceDirectionCCW = 1;\nexport var BasicShadowMap = 0;\nexport var PCFShadowMap = 1;\nexport var PCFSoftShadowMap = 2;\nexport var FrontSide = 0;\nexport var BackSide = 1;\nexport var DoubleSide = 2;\nexport var FlatShading = 1;\nexport var SmoothShading = 2;\nexport var NoColors = 0;\nexport var FaceColors = 1;\nexport var VertexColors = 2;\nexport var NoBlending = 0;\nexport var NormalBlending = 1;\nexport var AdditiveBlending = 2;\nexport var SubtractiveBlending = 3;\nexport var MultiplyBlending = 4;\nexport var CustomBlending = 5;\nexport var AddEquation = 100;\nexport var SubtractEquation = 101;\nexport var ReverseSubtractEquation = 102;\nexport var MinEquation = 103;\nexport var MaxEquation = 104;\nexport var ZeroFactor = 200;\nexport var OneFactor = 201;\nexport var SrcColorFactor = 202;\nexport var OneMinusSrcColorFactor = 203;\nexport var SrcAlphaFactor = 204;\nexport var OneMinusSrcAlphaFactor = 205;\nexport var DstAlphaFactor = 206;\nexport var OneMinusDstAlphaFactor = 207;\nexport var DstColorFactor = 208;\nexport var OneMinusDstColorFactor = 209;\nexport var SrcAlphaSaturateFactor = 210;\nexport var NeverDepth = 0;\nexport var AlwaysDepth = 1;\nexport var LessDepth = 2;\nexport var LessEqualDepth = 3;\nexport var EqualDepth = 4;\nexport var GreaterEqualDepth = 5;\nexport var GreaterDepth = 6;\nexport var NotEqualDepth = 7;\nexport var MultiplyOperation = 0;\nexport var MixOperation = 1;\nexport var AddOperation = 2;\nexport var NoToneMapping = 0;\nexport var LinearToneMapping = 1;\nexport var ReinhardToneMapping = 2;\nexport var Uncharted2ToneMapping = 3;\nexport var CineonToneMapping = 4;\nexport var ACESFilmicToneMapping = 5;\n\nexport var UVMapping = 300;\nexport var CubeReflectionMapping = 301;\nexport var CubeRefractionMapping = 302;\nexport var EquirectangularReflectionMapping = 303;\nexport var EquirectangularRefractionMapping = 304;\nexport var SphericalReflectionMapping = 305;\nexport var CubeUVReflectionMapping = 306;\nexport var CubeUVRefractionMapping = 307;\nexport var RepeatWrapping = 1000;\nexport var ClampToEdgeWrapping = 1001;\nexport var MirroredRepeatWrapping = 1002;\nexport var NearestFilter = 1003;\nexport var NearestMipMapNearestFilter = 1004;\nexport var NearestMipMapLinearFilter = 1005;\nexport var LinearFilter = 1006;\nexport var LinearMipMapNearestFilter = 1007;\nexport var LinearMipMapLinearFilter = 1008;\nexport var UnsignedByteType = 1009;\nexport var ByteType = 1010;\nexport var ShortType = 1011;\nexport var UnsignedShortType = 1012;\nexport var IntType = 1013;\nexport var UnsignedIntType = 1014;\nexport var FloatType = 1015;\nexport var HalfFloatType = 1016;\nexport var UnsignedShort4444Type = 1017;\nexport var UnsignedShort5551Type = 1018;\nexport var UnsignedShort565Type = 1019;\nexport var UnsignedInt248Type = 1020;\nexport var AlphaFormat = 1021;\nexport var RGBFormat = 1022;\nexport var RGBAFormat = 1023;\nexport var LuminanceFormat = 1024;\nexport var LuminanceAlphaFormat = 1025;\nexport var RGBEFormat = RGBAFormat;\nexport var DepthFormat = 1026;\nexport var DepthStencilFormat = 1027;\nexport var RedFormat = 1028;\nexport var RGB_S3TC_DXT1_Format = 33776;\nexport var RGBA_S3TC_DXT1_Format = 33777;\nexport var RGBA_S3TC_DXT3_Format = 33778;\nexport var RGBA_S3TC_DXT5_Format = 33779;\nexport var RGB_PVRTC_4BPPV1_Format = 35840;\nexport var RGB_PVRTC_2BPPV1_Format = 35841;\nexport var RGBA_PVRTC_4BPPV1_Format = 35842;\nexport var RGBA_PVRTC_2BPPV1_Format = 35843;\nexport var RGB_ETC1_Format = 36196;\nexport var RGBA_ASTC_4x4_Format = 37808;\nexport var RGBA_ASTC_5x4_Format = 37809;\nexport var RGBA_ASTC_5x5_Format = 37810;\nexport var RGBA_ASTC_6x5_Format = 37811;\nexport var RGBA_ASTC_6x6_Format = 37812;\nexport var RGBA_ASTC_8x5_Format = 37813;\nexport var RGBA_ASTC_8x6_Format = 37814;\nexport var RGBA_ASTC_8x8_Format = 37815;\nexport var RGBA_ASTC_10x5_Format = 37816;\nexport var RGBA_ASTC_10x6_Format = 37817;\nexport var RGBA_ASTC_10x8_Format = 37818;\nexport var RGBA_ASTC_10x10_Format = 37819;\nexport var RGBA_ASTC_12x10_Format = 37820;\nexport var RGBA_ASTC_12x12_Format = 37821;\nexport var LoopOnce = 2200;\nexport var LoopRepeat = 2201;\nexport var LoopPingPong = 2202;\nexport var InterpolateDiscrete = 2300;\nexport var InterpolateLinear = 2301;\nexport var InterpolateSmooth = 2302;\nexport var ZeroCurvatureEnding = 2400;\nexport var ZeroSlopeEnding = 2401;\nexport var WrapAroundEnding = 2402;\nexport var TrianglesDrawMode = 0;\nexport var TriangleStripDrawMode = 1;\nexport var TriangleFanDrawMode = 2;\nexport var LinearEncoding = 3000;\nexport var sRGBEncoding = 3001;\nexport var GammaEncoding = 3007;\nexport var RGBEEncoding = 3002;\nexport var LogLuvEncoding = 3003;\nexport var RGBM7Encoding = 3004;\nexport var RGBM16Encoding = 3005;\nexport var RGBDEncoding = 3006;\nexport var BasicDepthPacking = 3200;\nexport var RGBADepthPacking = 3201;\nexport var TangentSpaceNormalMap = 0;\nexport var ObjectSpaceNormalMap = 1;\n","import { Vector3 } from '../core/three/';\n\nexport default {\n  toScreenPos: (function() {\n    var vector = new Vector3();\n\n    return function(pos, camera, canvas) {\n      vector.copy(pos);\n      // map to normalized device coordinate (NDC) space\n      vector.project(camera);\n      // map to 2D screen space\n      vector.x = Math.round(((vector.x + 1) * canvas.width) / 2);\n      vector.y = Math.round(((-vector.y + 1) * canvas.height) / 2);\n      vector.z = 0;\n\n      return vector;\n    };\n  })(),\n\n  toSpacePos: (function() {\n    var vector = new Vector3(),\n      dir = new Vector3(),\n      distance;\n\n    return function(pos, camera, canvas) {\n      vector.set(\n        (pos.x / canvas.width) * 2 - 1,\n        -(pos.y / canvas.height) * 2 + 1,\n        0.5\n      );\n      vector.unproject(camera);\n\n      dir.copy(vector.sub(camera.position).normalize());\n      distance = -camera.position.z / dir.z;\n      vector.copy(camera.position);\n      vector.add(dir.multiplyScalar(distance));\n\n      return vector;\n    };\n  })(),\n};\n","export default {\n  initValue: function(value, defaults) {\n    var _value = value != null && value != undefined ? value : defaults;\n\n    return _value;\n  },\n\n  isArray: function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n  destroyArray: function(array) {\n    array.length = 0;\n  },\n\n  destroyObject: function(obj) {\n    for (var o in obj) delete obj[o];\n  },\n\n  isUndefined: function() {\n    for (var id in arguments) {\n      var arg = arguments[id];\n\n      if (arg !== undefined) return false;\n    }\n\n    return true;\n  },\n\n  setVectorByObj: function(target, pOBJ) {\n    if (pOBJ['x'] !== undefined) target.position.x = pOBJ['x'];\n    if (pOBJ['y'] !== undefined) target.position.y = pOBJ['y'];\n    if (pOBJ['z'] !== undefined) target.position.z = pOBJ['z'];\n\n    if (pOBJ['vx'] !== undefined) target.velocity.x = pOBJ['vx'];\n    if (pOBJ['vy'] !== undefined) target.velocity.y = pOBJ['vy'];\n    if (pOBJ['vz'] !== undefined) target.velocity.z = pOBJ['vz'];\n\n    if (pOBJ['ax'] !== undefined) target.acceleration.x = pOBJ['ax'];\n    if (pOBJ['ay'] !== undefined) target.acceleration.y = pOBJ['ay'];\n    if (pOBJ['az'] !== undefined) target.acceleration.z = pOBJ['az'];\n\n    if (pOBJ['p'] !== undefined) target.position.copy(pOBJ['p']);\n    if (pOBJ['v'] !== undefined) target.velocity.copy(pOBJ['v']);\n    if (pOBJ['a'] !== undefined) target.acceleration.copy(pOBJ['a']);\n\n    if (pOBJ['position'] !== undefined) target.position.copy(pOBJ['position']);\n    if (pOBJ['velocity'] !== undefined) target.velocity.copy(pOBJ['velocity']);\n    if (pOBJ['accelerate'] !== undefined)\n      target.acceleration.copy(pOBJ['accelerate']);\n  },\n\n  //set prototype\n  setPrototypeByObj: function(target, proObj, filters) {\n    for (var key in proObj) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        if (filters) {\n          if (filters.indexOf(key) < 0)\n            target[key] = this._getValue(proObj[key]);\n        } else {\n          target[key] = this._getValue(proObj[key]);\n        }\n      }\n    }\n\n    return target;\n  },\n\n  _getValue: function(pan) {\n    if (pan.constructor.type === 'Span') return pan.getValue();\n    else return pan;\n  },\n};\n","import uid from 'uuid/v1';\n\nexport default uid;\n","export { default as ColorUtil } from './ColorUtil';\nexport { default as PUID } from './PUID';\nexport { default as THREEUtil } from './THREEUtil';\nexport { default as Util } from './Util';\nexport { default as uid } from './uid';\n\nexport const withDefaults = (defaults, properties) => ({\n  ...defaults,\n  ...properties,\n});\n","import { PI } from '../constants';\n\nexport default {\n  randomAToB: function(a, b, INT) {\n    if (!INT) return a + Math.random() * (b - a);\n    else return ((Math.random() * (b - a)) >> 0) + a;\n  },\n  randomFloating: function(center, f, INT) {\n    return this.randomAToB(center - f, center + f, INT);\n  },\n\n  randomZone: function(display) {}, //eslint-disable-line\n\n  degreeTransform: function(a) {\n    return (a * PI) / 180;\n  },\n\n  toColor16: function getRGB(num) {\n    return '#' + num.toString(16);\n  },\n\n  randomColor: function() {\n    return (\n      '#' +\n      ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).slice(-6)\n    );\n  },\n\n  lerp: function(a, b, energy) {\n    return b + (a - b) * energy;\n  },\n\n  getNormal: function(v, n) {\n    if (v.x == 0 && v.y == 0) {\n      if (v.z == 0) n.set(1, 0, 1);\n      else n.set(1, 1, -v.y / v.z);\n    } else {\n      if (v.x == 0) n.set(1, 0, 1);\n      else n.set(-v.y / v.x, 1, 1);\n    }\n\n    return n.normalize();\n  },\n\n  /**\n   * Rodrigues' Rotation Formula\n   * https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula\n   * v′ = vcos(θ) + k(k⋅v)(1−cos(θ)) + (k*v)sin(θ)\n   */\n  axisRotate: function(v0, v, k, tha) {\n    var cos = Math.cos(tha);\n    var sin = Math.sin(tha);\n    var p = k.dot(v) * (1 - cos);\n\n    v0.copy(k);\n    v0.cross(v).scalar(sin);\n    v0.addValue(v.x * cos, v.y * cos, v.z * cos);\n    v0.addValue(k.x * p, k.y * p, k.z * p);\n  }\n};\n","export const MATH_TYPE_ARRAY_SPAN = 'ArraySpan';\nexport const MATH_TYPE_COLOR_SPAN = 'ColorSpan';\nexport const MATH_TYPE_BOX = 'Box';\nexport const MATH_TYPE_POLAR_3D = 'Polar3D';\nexport const MATH_TYPE_SPAN = 'Span';\nexport const MATH_TYPE_VECTOR_3D = 'Vector3D';\n","import MathUtils from './MathUtils';\nimport Util from '../utils/Util';\nimport { MATH_TYPE_SPAN as type } from './types';\n\nexport default class Span {\n  /**\n   * Span Class. Get a random Number from a to b. Or from c-a to c+b\n   * @param {Number|Array} a - min number\n   * @param {Number} b - max number\n   * @param {Number} center - the center's z value\n   * @example\n   * var span = new Span(0,30);\n   * or\n   * var span = new Span([\"#fff\",\"#ff0\",\"#000\"]);\n   * or\n   * var span = new Span(5,1,\"center\");\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, center) {\n    this._isArray = false;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    if (Util.isArray(a)) {\n      this._isArray = true;\n      this.a = a;\n    } else {\n      this.a = Util.initValue(a, 1);\n      this.b = Util.initValue(b, this.a);\n      this._center = Util.initValue(center, false);\n    }\n  }\n\n  /**\n   * Span.getValue function\n   * @name get a random Number from a to b. Or get a random Number from c-a to c+b\n   * @param {number} INT or int\n   * @return {number} a random Number\n   */\n  getValue(INT) {\n    if (this._isArray) {\n      return this.a[(this.a.length * Math.random()) >> 0];\n    } else {\n      if (!this._center) return MathUtils.randomAToB(this.a, this.b, INT);\n      else return MathUtils.randomFloating(this.a, this.b, INT);\n    }\n  }\n}\n\nexport const createSpan = (a, b, c) => {\n  if (a instanceof Span) return a;\n\n  if (b === undefined) {\n    return new Span(a);\n  } else {\n    if (c === undefined) return new Span(a, b);\n    else return new Span(a, b, c);\n  }\n};\n","import Span from './Span';\nimport sample from 'lodash/sample';\nimport { MATH_TYPE_ARRAY_SPAN as type } from './types';\n\n/**\n * Class for storing items of mixed type and fetching a randomised\n * value from these items.\n *\n */\nexport default class ArraySpan extends Span {\n  /**\n   * Constructs an ArraySpan instance.\n   *\n   * @param {mixed|array<mixed>} items - Items\n   * @return void\n   */\n  constructor(items) {\n    super();\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc An array of colors\n     * @type {array}\n     */\n    this.items = Array.isArray(items) ? items : [items];\n  }\n\n  /**\n   * Gets a random item.\n   *\n   * @return {mixed}\n   */\n  getValue() {\n    return sample(this.items);\n  }\n}\n\n/**\n * Attempts to create an ArraySpan from the items provided.\n *\n * @param {mixed} items - Items to try and create an ArraySpan from\n * @return {?ArraySpan}\n */\nexport const createArraySpan = items => {\n  if (!items) {\n    return null;\n  }\n\n  if (items instanceof ArraySpan) {\n    return items;\n  }\n\n  return new ArraySpan(items);\n};\n","import MathUtils from './MathUtils';\nimport Span from './Span';\nimport sample from 'lodash/sample';\nimport { MATH_TYPE_COLOR_SPAN as type } from './types';\n\n/**\n * Class for storing and interacting with an array of colours.\n *\n */\nexport default class ColorSpan extends Span {\n  /**\n   * Constructs a ColorSpan instance.\n   *\n   * @param {string|array<string>} colors - A color or array of colors. If the\n   * string 'random' is provided, a random color will be returned from getValue\n   * @return void\n   */\n  constructor(colors) {\n    super();\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if a random color should be returned from the getValue method.\n     * @type {boolean}\n     */\n    this.shouldRandomize = colors === 'random' ? true : false;\n\n    /**\n     * @desc An array of colors to select from\n     * @type {array<string>}\n     */\n    this.colors = Array.isArray(colors) ? colors : [colors];\n  }\n\n  /**\n   * Gets a color from the color array\n   * or a random color if this.shouldRandomize is true.\n   *\n   * @return {string} a hex color\n   */\n  getValue() {\n    return this.shouldRandomize ? MathUtils.randomColor() : sample(this.colors);\n  }\n}\n\n/**\n * Attempts to create an ArraySpan from the colors provided.\n *\n * @param {mixed} colors - colors to try and create an ArraySpan from\n * @return {?ColorSpan}\n */\nexport const createColorSpan = colors => {\n  if (!colors) {\n    return null;\n  }\n\n  if (colors instanceof ColorSpan) {\n    return colors;\n  }\n\n  return new ColorSpan(colors);\n};\n","import { MATH_TYPE_BOX as type } from './types';\n\nexport default class Box {\n  constructor(x, y, z, w, h, d) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.width = w;\n    this.height = h;\n    this.depth = d;\n    this.bottom = this.y + this.height;\n    this.right = this.x + this.width;\n    this.right = this.x + this.width;\n  }\n\n  contains(x, y, z) {\n    if (\n      x <= this.right &&\n      x >= this.x &&\n      y <= this.bottom &&\n      y >= this.y &&\n      z <= this.depth &&\n      z >= this.z\n    )\n      return true;\n    else return false;\n  }\n}\n","/**\n * @see https://en.wikipedia.org/wiki/Euler_method\n * @type {string}\n */\nexport const INTEGRATION_TYPE_EULER = 'EULER';\n\n/**\n * @see http://web.mit.edu/10.001/Web/Course_Notes/Differential_Equations_Notes/node5.html\n * @type {string}\n */\nexport const INTEGRATION_TYPE_RK2 = 'RUNGE_KUTTA_2';\n\n/**\n * @see http://web.mit.edu/10.001/Web/Course_Notes/Differential_Equations_Notes/node5.html\n * @type {string}\n */\nexport const INTEGRATION_TYPE_RK4 = 'RUNGE_KUTTA_4';\n\n/**\n * @see https://en.wikipedia.org/wiki/Verlet_integration\n * @type {string}\n */\nexport const INTEGRATION_TYPE_VERLET = 'VERLET';\n","import { INTEGRATION_TYPE_EULER } from './constants';\n\n/**\n * Performs euler integration on the particle.\n *\n * @param {Particle} particle - The particle to integrate\n * @param {number} time - The factor of time to use\n * @param {number} damping - The damping to use\n * @return void\n */\nconst eulerIntegration = (particle, time, damping) => {\n  if (particle.sleep) {\n    return;\n  }\n\n  particle.old.position.copy(particle.position);\n  particle.old.velocity.copy(particle.velocity);\n  particle.acceleration.scalar(1 / particle.mass);\n  particle.velocity.add(particle.acceleration.scalar(time));\n  particle.position.add(particle.old.velocity.scalar(time));\n  damping && particle.velocity.scalar(damping);\n  particle.acceleration.clear();\n};\n\n/**\n * Performs the chosen integration on the particle.\n * Defaults to euler integration.\n *\n * @param {Particle} particle - The particle to integrate\n * @param {number} time - The factor of time to use\n * @param {number} damping - The damping to use\n * @param {string} [type=INTEGRATION_TYPE_EULER] - The algorithm to use\n * @return void\n */\nexport const integrate = (\n  particle,\n  time,\n  damping,\n  type = INTEGRATION_TYPE_EULER\n) => {\n  switch (type) {\n    case INTEGRATION_TYPE_EULER:\n      eulerIntegration(particle, time, damping);\n      break;\n    default:\n      eulerIntegration(particle, time, damping);\n  }\n};\n","import { Euler, Vector3 } from '../core/three/';\n\nexport default class Vector3D extends Vector3 {\n  clear() {\n    this.x = 0.0;\n    this.y = 0.0;\n    this.z = 0.0;\n\n    return this;\n  }\n\n  scalar(s) {\n    this.x *= s;\n    this.y *= s;\n    this.z *= s;\n\n    return this;\n  }\n\n  addValue(a, b, c) {\n    this.x += a;\n    this.y += b;\n    this.z += c;\n\n    return this;\n  }\n\n  toString() {\n    return 'x:' + this.x + 'y:' + this.y + 'z:' + this.z;\n  }\n\n  eulerFromDir(vector3D) {\n    const euler = new Euler();\n\n    return euler.setFromVector3(vector3D);\n  }\n}\n","import Vector3D from './Vector3D';\nimport { MATH_TYPE_POLAR_3D as type } from './types';\n\nexport default class Polar3D {\n  constructor(radius, theta, phi) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.radius = radius || 1;\n    this.phi = phi || 0;\n    this.theta = theta || 0;\n  }\n\n  set(radius, theta, phi) {\n    this.radius = radius || 1;\n    this.phi = phi || 0;\n    this.theta = theta || 0;\n\n    return this;\n  }\n\n  setRadius(radius) {\n    this.radius = radius;\n\n    return this;\n  }\n\n  setPhi(phi) {\n    this.phi = phi;\n\n    return this;\n  }\n\n  setTheta(theta) {\n    this.theta = theta;\n\n    return this;\n  }\n\n  copy(p) {\n    this.radius = p.radius;\n    this.phi = p.phi;\n    this.theta = p.theta;\n\n    return this;\n  }\n\n  toVector3D() {\n    return new Vector3D(this.getX(), this.getY(), this.getZ());\n  }\n\n  getX() {\n    return this.radius * Math.sin(this.theta) * Math.cos(this.phi);\n  }\n\n  getY() {\n    return -this.radius * Math.sin(this.theta) * Math.sin(this.phi);\n  }\n\n  getZ() {\n    return this.radius * Math.cos(this.theta);\n  }\n\n  normalize() {\n    this.radius = 1;\n\n    return this;\n  }\n\n  equals(v) {\n    return (\n      v.radius === this.radius && v.phi === this.phi && v.theta === this.theta\n    );\n  }\n\n  clear() {\n    this.radius = 0.0;\n    this.phi = 0.0;\n    this.theta = 0.0;\n\n    return this;\n  }\n\n  clone() {\n    return new Polar3D(this.radius, this.phi, this.theta);\n  }\n}\n","export const CORE_TYPE_PARTICLE = 'Particle';\nexport const CORE_TYPE_POOL = 'Pool';\nexport const CORE_TYPE_SYSTEM = 'System';\n","import {\n  DEFAULT_AGE,\n  DEFAULT_ALPHA,\n  DEFAULT_BODY,\n  DEFAULT_DEAD,\n  DEFAULT_EASING,\n  DEFAULT_ENERGY,\n  DEFAULT_LIFE,\n  DEFAULT_MASS,\n  DEFAULT_PARENT,\n  DEFAULT_RADIUS,\n  DEFAULT_SCALE,\n  DEFAULT_SLEEP,\n  DEFAULT_USE_ALPHA,\n  DEFAULT_USE_COLOR\n} from './constants';\nimport { Util, uid } from '../utils';\n\nimport { PI } from '../constants';\nimport { Vector3D } from '../math';\nimport { CORE_TYPE_PARTICLE as type } from './types';\n\n/**\n * A Particle is an object that is emitted by an emitter.\n *\n */\nexport default class Particle {\n  /**\n   * Constructs a Particle instance.\n   *\n   * @param {object} properties - The properties to instantiate the particle with\n   * @property {number} properties.life - The particle's life\n   * @property {number} properties.age - The particle's age\n   * @property {number} properties.energy - The particle's energy loss\n   * @property {boolean} properties.dead - Determines if the particle is dead or not\n   * @property {boolean} properties.sleep - Determines if the particle is sleeping or not\n   * @property {object} properties.target - The particle's target\n   * @property {object} properties.body - The particle's body\n   * @property {number} properties.mass - The particle's mass\n   * @property {number} properties.radius - The particle's radius\n   * @property {number} properties.alpha - The particle's alpha\n   * @property {number} properties.scale - The particle's scale\n   * @property {number} properties.rotation - The particle's rotation\n   * @property {string|number} properties.color - The particle's color\n   * @property {function} properties.easing - The particle's easing\n   * @property {Vector3D} properties.position - The particle's position\n   * @property {Vector3D} properties.velocity - The particle's velocity\n   * @property {Vector3D} properties.acceleration - The particle's acceleration\n   * @property {array} properties.behaviours - The particle's behaviours array\n   * @property {object} properties.transform - The particle's transform collection\n   * @return void\n   */\n  constructor(properties) {\n    /**\n     * @desc The particle's unique id\n     * @type {number}\n     */\n    this.id = `particle-${uid()}`;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    /**\n     * @desc The particle's life\n     * @type {number}\n     */\n    this.life = DEFAULT_LIFE;\n    /**\n     * @desc The particle's age\n     * @type {number}\n     */\n    this.age = DEFAULT_AGE;\n    /**\n     * @desc The particle's energy loss\n     * @type {number}\n     */\n    this.energy = DEFAULT_ENERGY;\n    /**\n     * @desc Determines if the particle is dead or not\n     * @type {number}\n     */\n    this.dead = DEFAULT_DEAD;\n    /**\n     * @desc Determines if the particle is sleeping or not\n     * @type {number}\n     */\n    this.sleep = DEFAULT_SLEEP;\n    /**\n     * @desc The particle's body\n     * @type {object}\n     */\n    this.body = DEFAULT_BODY;\n    /**\n     * @desc The particle's parent\n     * @type {?Emitter}\n     */\n    this.parent = DEFAULT_PARENT;\n    /**\n     * @desc The particle's mass\n     * @type {number}\n     */\n    this.mass = DEFAULT_MASS;\n    /**\n     * @desc The particle's radius\n     * @type {number}\n     */\n    this.radius = DEFAULT_RADIUS;\n    /**\n     * @desc The particle's alpha\n     * @type {number}\n     */\n    this.alpha = DEFAULT_ALPHA;\n    /**\n     * @desc The particle's scale\n     * @type {number}\n     */\n    this.scale = DEFAULT_SCALE;\n    /**\n     * @desc Determines whether to use color or not\n     * @type {boolean}\n     */\n    this.useColor = DEFAULT_USE_COLOR;\n    /**\n     * @desc Determines whether to use alpha or not\n     * @type {boolean}\n     */\n    this.useAlpha = DEFAULT_USE_ALPHA;\n    /**\n     * @desc The particle's easing\n     * @type {number}\n     */\n    this.easing = DEFAULT_EASING;\n    /**\n     * @desc The particle's position\n     * @type {Vector3D}\n     */\n    this.position = new Vector3D();\n    /**\n     * @desc The particle's velocity\n     * @type {Vector3D}\n     */\n    this.velocity = new Vector3D();\n    /**\n     * @desc The particle's acceleration\n     * @type {Vector3D}\n     */\n    this.acceleration = new Vector3D();\n    /**\n     * @desc The particle's last position, velocity and acceleration\n     * @type {object}\n     */\n    this.old = {};\n    /**\n     * @desc The particle's old position\n     * @type {number}\n     */\n    this.old.position = this.position.clone();\n    /**\n     * @desc The particle's old velocity\n     * @type {number}\n     */\n    this.old.velocity = this.velocity.clone();\n    /**\n     * @desc The particle's old acceleration\n     * @type {number}\n     */\n    this.old.acceleration = this.acceleration.clone();\n    /**\n     * @desc The particle's behaviours array\n     * @type {number}\n     */\n    this.behaviours = [];\n    /**\n     * @desc The particle's transform collection\n     * @type {number}\n     */\n    this.transform = {};\n    /**\n     * @desc The particle's color store\n     * @type {number}\n     */\n    this.color = { r: 0, g: 0, b: 0 };\n    /**\n     * @desc The particle's rotation\n     * @type {number}\n     */\n    this.rotation = new Vector3D();\n\n    // override constructor props with passed properties.\n    Util.setPrototypeByObj(this, properties);\n  }\n\n  /**\n   * Gets the particle's current direction.\n   *\n   * @return {number}\n   */\n  getDirection() {\n    return Math.atan2(this.velocity.x, -this.velocity.y) * (180 / PI);\n  }\n\n  /**\n   * Resets the particle's default properties and clear's its particle's position,\n   * velocity, acceleration, color and rotation. Also destroy's the particle's\n   * transform collection & removes all behaviours.\n   *\n   * @return {Particle}\n   */\n  reset() {\n    this.life = DEFAULT_LIFE;\n    this.age = DEFAULT_AGE;\n    this.energy = DEFAULT_ENERGY;\n    this.dead = DEFAULT_DEAD;\n    this.sleep = DEFAULT_SLEEP;\n    this.body = DEFAULT_BODY;\n    this.parent = DEFAULT_PARENT;\n    this.mass = DEFAULT_MASS;\n    this.radius = DEFAULT_RADIUS;\n    this.alpha = DEFAULT_ALPHA;\n    this.scale = DEFAULT_SCALE;\n    this.useColor = DEFAULT_USE_COLOR;\n    this.useAlpha = DEFAULT_USE_ALPHA;\n    this.easing = DEFAULT_EASING;\n    this.position.set(0, 0, 0);\n    this.velocity.set(0, 0, 0);\n    this.acceleration.set(0, 0, 0);\n    this.old.position.set(0, 0, 0);\n    this.old.velocity.set(0, 0, 0);\n    this.old.acceleration.set(0, 0, 0);\n    this.color.r = 0;\n    this.color.g = 0;\n    this.color.b = 0;\n\n    this.rotation.clear();\n    Util.destroyObject(this.transform);\n    this.removeAllBehaviours();\n\n    return this;\n  }\n\n  /**\n   * Updates the particle's properties by applying each behaviour to the particle.\n   * Will also update the particle's energy, unless it's age is greater than it's life\n   * in which case it will be destroyed.\n   *\n   * @param {number} time - Integration time\n   * @param {integer} index - Particle index\n   * @return void\n   */\n  update(time, index) {\n    if (!this.sleep) {\n      this.age += time;\n\n      let i = this.behaviours.length;\n\n      while (i--) {\n        let behaviour = this.behaviours[i];\n\n        behaviour && behaviour.applyBehaviour(this, time, index);\n      }\n    }\n\n    if (this.age >= this.life) {\n      this.destroy();\n    } else {\n      const scale = this.easing(this.age / this.life);\n\n      this.energy = Math.max(1 - scale, 0);\n    }\n  }\n\n  /**\n   * Adds a behaviour to the particle.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the particle\n   * @return void\n   */\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n    behaviour.initialize(this);\n  }\n\n  /**\n   * Adds multiple behaviours to the particle.\n   *\n   * @param {array<Behaviour>} behaviours - An array of behaviours to add to the particle\n   * @return void\n   */\n  addBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addBehaviour(behaviours[i]);\n    }\n  }\n\n  /**\n   * Removes the behaviour from the particle.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove from the particle\n   * @return void\n   */\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.behaviours.splice(index, 1);\n    }\n  }\n\n  /**\n   * Removes all behaviours from the particle.\n   *\n   * @return void\n   */\n  removeAllBehaviours() {\n    Util.destroyArray(this.behaviours);\n  }\n\n  /**\n   * Destroys the particle.\n   *\n   * @return void\n   */\n  destroy() {\n    this.removeAllBehaviours();\n    this.energy = 0;\n    this.dead = true;\n    this.parent = null;\n  }\n}\n","import PUID from '../utils/PUID';\nimport { CORE_TYPE_POOL as type } from './types';\n/**\n * An object pool implementation. Used for pooling objects to avoid unnecessary\n * garbage collection.\n *\n */\nexport default class Pool {\n  /**\n   * Constructs a Pool instance.\n   *\n   * @return void\n   */\n  constructor() {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    /**\n     * @desc Incrementing id that keeps a count of the number of objects created\n     * @type {integer}\n     */\n    this.cID = 0;\n\n    /**\n     * @desc Map of pools in the format of PUID<String>: pool<Array>\n     * @type {object}\n     */\n    this.list = {};\n  }\n\n  /**\n   * Attempts to create a new object either by creating a new instance or calling its\n   * clone method.\n   *\n   * @param {function|object} functionOrObject - The object to instantiate or clone\n   * @return {object|undefined}\n   */\n  create(functionOrObject) {\n    if (!this.canCreateNewObject(functionOrObject)) {\n      throw new Error(\n        'The pool is unable to create or clone the object supplied'\n      );\n    }\n\n    this.cID++;\n\n    if (this.canInstantiateObject(functionOrObject)) {\n      return new functionOrObject();\n    }\n\n    if (this.canCloneObject(functionOrObject)) {\n      return functionOrObject.clone();\n    }\n  }\n\n  /**\n   * Determines if the object is able to be instantiated or not.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canInstantiateObject(object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * Determines if the object is able to be cloned or not.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canCloneObject(object) {\n    return object.clone && typeof object.clone === 'function';\n  }\n\n  /**\n   * Determines if a new object is able to be created.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canCreateNewObject(object) {\n    return this.canInstantiateObject(object) || this.canCloneObject(object)\n      ? true\n      : false;\n  }\n\n  /**\n   * Gets a count of all objects in the pool.\n   *\n   * @return {integer}\n   */\n  getCount() {\n    var count = 0;\n\n    for (var id in this.list) count += this.list[id].length;\n\n    return count++;\n  }\n\n  /**\n   * Gets an object either by creating a new one or retrieving it from the pool.\n   *\n   * @param {function|object} obj - The function or object to get\n   * @return {object}\n   */\n  get(obj) {\n    var p,\n      puid = obj.__puid || PUID.id(obj);\n\n    if (this.list[puid] && this.list[puid].length > 0)\n      p = this.list[puid].pop();\n    else p = this.create(obj);\n\n    p.__puid = obj.__puid || puid;\n\n    return p;\n  }\n\n  /**\n   * Pushes an object into the pool.\n   *\n   * @param {object} obj - The object to expire\n   * @return {integer}\n   */\n  expire(obj) {\n    return this._getList(obj.__puid).push(obj);\n  }\n\n  /**\n   * Destroys all pools.\n   *\n   * @return void\n   */\n  destroy() {\n    for (var id in this.list) {\n      this.list[id].length = 0;\n      delete this.list[id];\n    }\n  }\n\n  /**\n   * Gets the pool mapped to the UID.\n   *\n   * @param {string} uid - The pool uid\n   * @return {array}\n   */\n  _getList(uid) {\n    uid = uid || 'default';\n    if (!this.list[uid]) this.list[uid] = [];\n\n    return this.list[uid];\n  }\n}\n","import {\n  EMITTER_ADDED,\n  EMITTER_REMOVED,\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n  SYSTEM_UPDATE,\n  SYSTEM_UPDATE_AFTER\n} from './constants';\n\nimport EventDispatcher from './EventDispatcher';\n\nexport default EventDispatcher;\nexport {\n  EMITTER_ADDED,\n  EMITTER_REMOVED,\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n  SYSTEM_UPDATE_AFTER,\n  SYSTEM_UPDATE\n};\n","/*\n * EventDispatcher\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n **/\n\nexport default class EventDispatcher {\n  constructor() {\n    this.listeners = null;\n  }\n\n  set listeners(listeners) {\n    this._listeners = listeners;\n  }\n\n  get listeners() {\n    return this._listeners;\n  }\n\n  addEventListener(type, listener) {\n    if (!this.listeners) {\n      this.listeners = {};\n    } else {\n      this.removeEventListener(type, listener);\n    }\n\n    if (!this.listeners[type]) this.listeners[type] = [];\n    this.listeners[type].push(listener);\n\n    return listener;\n  }\n\n  removeEventListener(type, listener) {\n    if (!this.listeners) return;\n    if (!this.listeners[type]) return;\n\n    var arr = this.listeners[type];\n\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (arr[i] == listener) {\n        if (l == 1) {\n          delete this.listeners[type];\n        }\n        // allows for faster checks.\n        else {\n          arr.splice(i, 1);\n        }\n        break;\n      }\n    }\n  }\n\n  removeAllEventListeners(type) {\n    if (!type) this.listeners = null;\n    else if (this.listeners) delete this.listeners[type];\n  }\n\n  dispatchEvent(eventName, eventTarget) {\n    var ret = false,\n      listeners = this.listeners;\n\n    if (eventName && listeners) {\n      var arr = listeners[eventName];\n\n      if (!arr) return ret;\n\n      arr = arr.slice();\n      // to avoid issues with items being removed or added during the dispatch\n\n      var handler,\n        i = arr.length;\n\n      while (i--) {\n        handler = arr[i];\n\n        ret = ret || handler(eventTarget);\n      }\n    }\n\n    return !!ret;\n  }\n\n  hasEventListener(type) {\n    var listeners = this.listeners;\n\n    return !!(listeners && listeners[type]);\n  }\n}\n","import { INITIALIZER_TYPE_ABSTRACT } from './types';\n\n/**\n * The base Emitter / Particle property class.\n *\n * @abstract\n */\nexport default class Initializer {\n  /**\n   * Constructs an Initializer instance.\n   *\n   * @param {string} [type=INITIALIZER_TYPE_ABSTRACT] - The intiializer type\n   * @param {boolean} [isEnabled=true] - Determines if the initializer should be enabled or not\n\n   * @return void\n   */\n  constructor(type = INITIALIZER_TYPE_ABSTRACT, isEnabled = true) {\n    this.type = type;\n    this.isEnabled = isEnabled;\n  }\n\n  /**\n   * Initializes the property on the emitter or particle.\n   *\n   * @see {@link '../emitter/emitter.js'} setupParticle\n   * @param {Emitter} emitter - the emitter to initialize the property on\n   * @param {Particle} particle - the particle to intiialize the property on\n   * @return void\n   */\n  init(emitter, particle) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    if (particle) {\n      this.initialize(particle);\n      particle.hasBeenInitialized = true;\n    } else {\n      this.initialize(emitter);\n      emitter.hasBeenInitialized = true;\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {}\n\n  /**\n   * Place custom property initialization code in this method in the subclass.\n   *\n   * @param {object} target - either an Emitter or a Particle\n   * @abstract\n   */\n  initialize(target) {} // eslint-disable-line\n\n  /**\n   * Determines if the initializer requires a Web GL API to be provided to its constructor.\n   * If true, the WebGL API will need to be provided as the first argument to the constructor\n   * and fromJSON methods.\n   *\n   * @return {boolean}\n   */\n  static requiresWebGlApi() {\n    return false;\n  }\n\n  /**\n   * Returns a new instance of the initializer from the JSON object passed.\n   *\n   * @abstract\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Behaviour}\n   */\n  static fromJSON(json) {} // eslint-disable-line\n}\n","import Initializer from './Initializer';\nimport { createArraySpan } from '../math';\nimport { INITIALIZER_TYPE_BODY as type } from './types';\n/**\n * Sets the body property on initialized particles.\n *\n */\nexport default class Body extends Initializer {\n  /**\n   * Constructs a Body initalizer instance.\n   *\n   * @param {string|number|object} body - The content for the particle body, can\n   * be a color or an object (mesh)\n   * @param {?number} w - The width of the particle body\n   * @param {?number} h - The height of the particle body\n   * @return void\n   */\n  constructor(body, w, h, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The content for the particle body\n     * @type {ArraySpan}\n     */\n    this.body = createArraySpan(body);\n\n    /**\n     * @desc The width of the particle Body\n     * @type {number}\n     */\n    this.w = w;\n\n    /**\n     * @desc The height of the particle Body\n     * @type {number}\n     */\n    this.h = h || w;\n  }\n\n  /**\n   * Sets the particle's initial body.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    var body = this.body.getValue();\n\n    if (this.w) {\n      particle.body = {\n        width: this.w,\n        height: this.h,\n        body: body,\n      };\n    } else {\n      particle.body = body;\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.body - The color for the particle body\n   * @property {number} json.width - The width of the particle body\n   * @property {number} json.height - The height of the particle body\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { body, width, height, isEnabled = true } = json;\n\n    return new Body(body, width, height, isEnabled);\n  }\n}\n","import {\n  AdditiveBlending,\n  CustomBlending,\n  MultiplyBlending,\n  NoBlending,\n  NormalBlending,\n  SubtractiveBlending,\n} from '../core/three/';\n\nexport const SUPPORTED_MATERIAL_BLENDING_MODES = {\n  AdditiveBlending,\n  CustomBlending,\n  MultiplyBlending,\n  NoBlending,\n  NormalBlending,\n  SubtractiveBlending,\n};\n\nexport const DEFAULT_MATERIAL_PROPERTIES = {\n  color: 0xff0000,\n  blending: AdditiveBlending,\n  fog: true,\n};\nexport const DEFAULT_JSON_MATERIAL_PROPERTIES = {\n  ...DEFAULT_MATERIAL_PROPERTIES,\n  blending: 'AdditiveBlending',\n};\nexport const DEFAULT_RATE_NUM_PAN = 1;\nexport const DEFAULT_RATE_TIME_PAN = 1;\n","import THREEUtil from '../utils/THREEUtil';\nimport Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_SCREEN as type } from './types';\n\nexport default class ScreenZone extends Zone {\n  /**\n   * ScreenZone is a 3d line zone\n   * @param {Number|Vector3D} x1 - the line's start point of x value or a Vector3D Object\n   * @param {Number|Vector3D} y1 - the line's start point of y value or a Vector3D Object\n   * @param {Number} z1 - the line's start point of z value\n   * @param {Number} x2 - the line's end point of x value\n   * @param {Number} y2 - the line's end point of y value\n   * @param {Number} z2 - the line's end point of z value\n   * @example\n   * var lineZone = new ScreenZone(0,0,0,100,100,0);\n   * or\n   * var lineZone = new ScreenZone(new Vector3D(0,0,0),new Vector3D(100,100,0));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(camera, renderer, dis, dir) {\n    super(type);\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.dis = dis || 20;\n    dir = dir || '1234';\n\n    for (var i = 1; i < 5; i++) this['d' + i] = dir.indexOf(i + '') >= 0;\n  }\n\n  /**\n   * Returns true to indicate this is a ScreenZone.\n   *\n   * @return {boolean}\n   */\n  isScreenZone() {\n    return true;\n  }\n\n  _dead(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis && this.d1) {\n      particle.dead = true;\n    } else if (pos.y - particle.radius > canvas.height + this.dis && this.d3) {\n      particle.dead = true;\n    }\n\n    if (pos.x + particle.radius < -this.dis && this.d4) {\n      particle.dead = true;\n    } else if (pos.x - particle.radius > canvas.width + this.dis && this.d2) {\n      particle.dead = true;\n    }\n  }\n\n  _bound(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      particle.velocity.y *= -1;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      particle.velocity.y *= -1;\n    }\n  }\n}\n\nScreenZone.prototype.getPosition = (function() {\n  var vec2 = new Vector3D(),\n    canvas;\n\n  return function() {\n    canvas = this.renderer.domElement;\n    vec2.x = Math.random() * canvas.width;\n    vec2.y = Math.random() * canvas.height;\n    this.vector.copy(THREEUtil.toSpacePos(vec2, this.camera, canvas));\n\n    return this.vector;\n  };\n})();\n\nScreenZone.prototype._cross = (function() {\n  var vec2 = new Vector3D();\n\n  return function(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      vec2.x = pos.x;\n      vec2.y = canvas.height + this.dis + particle.radius;\n      particle.position.y = THREEUtil.toSpacePos(vec2, this.camera, canvas).y;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      vec2.x = pos.x;\n      vec2.y = -this.dis - particle.radius;\n      particle.position.y = THREEUtil.toSpacePos(vec2, this.camera, canvas).y;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      vec2.y = pos.y;\n      vec2.x = canvas.width + this.dis + particle.radius;\n      particle.position.x = THREEUtil.toSpacePos(vec2, this.camera, canvas).x;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      vec2.y = pos.y;\n      vec2.x = -this.dis - particle.radius;\n      particle.position.x = THREEUtil.toSpacePos(vec2, this.camera, canvas).x;\n    }\n  };\n})();\n","import {\n  DEFAULT_JSON_MATERIAL_PROPERTIES,\n  DEFAULT_MATERIAL_PROPERTIES,\n  SUPPORTED_MATERIAL_BLENDING_MODES,\n} from './constants';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_BODY_SPRITE as type } from './types';\nimport { withDefaults } from '../utils';\n\n/**\n * Sets the body property to be a THREE.Sprite on initialized particles.\n *\n * NOTE The texture map MUST be set on the SpriteMaterial in the TextureLoader.load\n * callback. Not doing so will cause WebGL buffer errors.\n */\nexport default class BodySprite extends Initializer {\n  /**\n   * Constructs a BodySprite initializer.\n   *\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} texture - The sprite texture\n   * @param {object} materialProperties - The sprite material properties\n   * @throws {Error} If the TextureLoader fails to load the supplied texture\n   * @return void\n   */\n  constructor(\n    THREE,\n    texture,\n    materialProperties = DEFAULT_MATERIAL_PROPERTIES,\n    isEnabled = true\n  ) {\n    super(type, isEnabled);\n\n    const { Sprite, SpriteMaterial, TextureLoader } = THREE;\n\n    /**\n     * @desc The material properties for this object's SpriteMaterial\n     * NOTE This is required for testing purposes\n     * @type {object}\n     */\n    this.materialProperties = withDefaults(\n      DEFAULT_MATERIAL_PROPERTIES,\n      materialProperties\n    );\n\n    new TextureLoader().load(\n      texture,\n      map => {\n        /**\n         * @desc The texture for the THREE.SpriteMaterial map.\n         * @type {Texture}\n         */\n        this.texture = map;\n\n        /**\n         * @desc THREE.SpriteMaterial instance.\n         * @type {SpriteMaterial}\n         */\n        this.material = new SpriteMaterial({\n          ...{ map },\n          ...this.materialProperties,\n        });\n\n        /**\n         * @desc THREE.Sprite instance.\n         * @type {Sprite}\n         */\n        this.sprite = new Sprite(this.material);\n      },\n      undefined,\n      error => {\n        throw new Error(error);\n      }\n    );\n  }\n\n  /**\n   * Sets the particle body to the sprite.\n   *\n   * @param {Particle} particle - The particle to set the body of\n   * @return void\n   */\n  initialize(particle) {\n    particle.body = this.sprite;\n  }\n\n  /**\n   * Creates a BodySprite initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} json.texture - The sprite texture\n   * @param {object} json.materialProperties - The sprite material properties\n   * @return {BodySprite}\n   */\n  static fromJSON(json, THREE) {\n    const {\n      texture,\n      materialProperties = DEFAULT_JSON_MATERIAL_PROPERTIES,\n      isEnabled = true,\n    } = json;\n\n    const ensureMappedBlendingMode = properties => {\n      const { blending } = properties;\n\n      return {\n        ...properties,\n        blending: blending\n          ? SUPPORTED_MATERIAL_BLENDING_MODES[blending]\n          : SUPPORTED_MATERIAL_BLENDING_MODES[\n            DEFAULT_JSON_MATERIAL_PROPERTIES.blending\n          ],\n      };\n    };\n\n    return new BodySprite(\n      THREE,\n      texture,\n      withDefaults(\n        DEFAULT_JSON_MATERIAL_PROPERTIES,\n        ensureMappedBlendingMode(materialProperties)\n      ),\n      isEnabled\n    );\n  }\n}\n","import { Euler } from '../core/three/';\n\nconst particleEuler = new Euler();\n\nexport default {\n  particleEuler: null,\n  /**\n   * Loops through the initializers array and calls each initializer's initialize method\n   * on the supplied particle. This sets the particle's initial properties.\n   *\n   * @see {@link '../emitter/Emitter'} setupParticle\n   * @param {Emitter} emitter - The emitter that has called this method\n   * @param {Particle} particle - The particle that has just been created\n   * @param {array<Initializer>} initializers - All of the emitter's initializers\n   * @return void\n   */\n  initialize: function(emitter, particle, initializers) {\n    let i = initializers.length;\n\n    while (i--) {\n      initializers[i].init(emitter, particle);\n    }\n\n    emitter.bindEmitter && this.bindEmitter(emitter, particle);\n  },\n\n  /**\n   * Ensures that the emitter's position, velocity and accleration are added\n   * to each created particle.\n   *\n   * @param {Emitter} emitter - The emitter that is emitting the particles\n   * @param {Particle} particle - The newly created particle\n   * @return void\n   */\n  bindEmitter: function(emitter, particle) {\n    const {\n      rotation: { x, y, z },\n    } = emitter;\n\n    particle.position.add(emitter.position);\n    particle.velocity.add(emitter.velocity);\n    particle.acceleration.add(emitter.acceleration);\n    particle.velocity.applyEuler(particleEuler.set(x, y, z));\n  },\n};\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_LIFE as type } from './types';\n\n/**\n * Sets the life property on initialized particles.\n *\n */\nexport default class Life extends Initializer {\n  /**\n   * Constructs a Life property instance.\n   *\n   * @param {number} min - The minimum life\n   * @param {number} max - The maximum life\n   * @param {boolean} [center] - Determines whether to average the life value\n   * @param {boolean} [isEnabled=true] - Determines if the initializer should be enabled or not\n   * @return void\n   */\n  constructor(min, max, center, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The life span of the particle.\n     * @type {Span}\n     */\n    this.lifePan = createSpan(min, max, center);\n  }\n\n  /**\n   * Sets the particle's initial life.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    if (this.lifePan.a == Infinity || this.lifePan.a == 'infi') {\n      particle.life = Infinity;\n    } else {\n      particle.life = this.lifePan.getValue();\n    }\n  }\n\n  /**\n   * Creates a Life initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.min - The minimum life time\n   * @param {number} json.max - The maximum life time\n   * @param {number} json.center - The center of the life time\n   * @param {boolean} [json.isEnabled=true] - Determines if the initializer should be enabled or not\n   * @return {Life}\n   */\n  static fromJSON(json) {\n    const { min, max, center = false, isEnabled = true } = json;\n\n    return new Life(min, max, center, isEnabled);\n  }\n}\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_MASS as type } from './types';\n\n/**\n * Sets the mass property on initialized particles.\n *\n */\nexport default class Mass extends Initializer {\n  /**\n   * Constructs a Mass initializer instance.\n   *\n   * @param {number} min - The minumum mass for the particle\n   * @param {number} max - The maximum mass for the particle\n   * @param {boolean} [center] - Determines whether to average the mass value\n   * @return void\n   */\n  constructor(min, max, center = false, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The mass span which is used to set the particle mass value.\n     * @type {Span}\n     */\n    this.massPan = createSpan(min, max, center);\n  }\n\n  /**\n   * Sets the particle's initial mass.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    particle.mass = this.massPan.getValue();\n  }\n\n  /**\n   * Creates a Mass initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.min - The minimum mass\n   * @property {number} json.max - The maximum mass\n   * @property {number} json.center - The center of the mass\n   * @return {Mass}\n   */\n  static fromJSON(json) {\n    const { min, max, center = false, isEnabled = true } = json;\n\n    return new Mass(min, max, center, isEnabled);\n  }\n}\n","import Vector3D from '../math/Vector3D';\nimport { ZONE_TYPE_ABSTRACT } from './types';\n\n/**\n * A Zone determines the area in 3D space where an emitter's particles can position\n * themselves. They are supplied to both the Position initializer\n * and the CrossZone behaviour.\n *\n * @see {@link '../initialize/Position.js'}\n * @see {@link '../behaviour/CrossZone.js'}\n * @abstract\n */\nexport default class Zone {\n  /**\n   * Constructs a Zone instance.\n   *\n   * @param {string} type - The zone type\n   * @return void\n   */\n  constructor(type = ZONE_TYPE_ABSTRACT) {\n    this.type = type;\n    this.vector = new Vector3D(0, 0, 0);\n    this.random = 0;\n    this.crossType = 'dead';\n    this.log = true;\n    this.supportsCrossing = true;\n  }\n\n  getPosition() {\n    return null;\n  }\n\n  crossing(particle) {\n    if (!this.supportsCrossing) {\n      return console.warn(\n        `${this.constructor.name} does not support the crossing method`\n      );\n    }\n\n    switch (this.crossType) {\n      case 'bound':\n        this._bound(particle);\n        break;\n\n      case 'cross':\n        this._cross(particle);\n        break;\n\n      case 'dead':\n        this._dead(particle);\n        break;\n    }\n  }\n\n  /**\n   * Determines if this zone is a BoxZone.\n   *\n   * @return {boolean}\n   */\n  isBoxZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a LineZone.\n   *\n   * @return {boolean}\n   */\n  isLineZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a MeshZone.\n   *\n   * @return {boolean}\n   */\n  isMeshZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a PointZone.\n   *\n   * @return {boolean}\n   */\n  isPointZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a ScreenZone.\n   *\n   * @return {boolean}\n   */\n  isScreenZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a SphereZone.\n   *\n   * @return {boolean}\n   */\n  isSphereZone() {\n    return false;\n  }\n\n  /**\n   * Sets the particle's dead property to true if required.\n   *\n   * @param {Particle} particle\n   * @abstract\n   */\n  _dead(particle) {} //eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  _bound(particle) {} //eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  _cross(particle) {} //eslint-disable-line\n}\n","import MathUtils from '../math/MathUtils';\nimport Util from '../utils/Util';\nimport Zone from './Zone';\nimport { ZONE_TYPE_BOX as type } from './types';\n\nexport default class BoxZone extends Zone {\n  /**\n   * BoxZone is a box zone\n   * @param {Number|Vector3D} x - the position's x value or a Vector3D Object\n   * @param {Number} y - the position's y value\n   * @param {Number} z - the position's z value\n   * @param {Number} w - the Box's width\n   * @param {Number} h - the Box's height\n   * @param {Number} d - the Box's depth\n   * @example\n   * var boxZone = new BoxZone(0,0,0,50,50,50);\n   * or\n   * var boxZone = new BoxZone(new Vector3D(0,0,0), 50, 50, 50);\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, c, d, e, f) {\n    super(type);\n\n    // TODO this reassigning of arguments is pretty dangerous, need to fix it.\n    // eslint-disable-next-line\n    var x, y, z, w, h, d;\n\n    if (Util.isUndefined(b, c, d, e, f)) {\n      x = y = z = 0;\n      w = h = d = a || 100;\n    } else if (Util.isUndefined(d, e, f)) {\n      x = y = z = 0;\n      w = a;\n      h = b;\n      d = c;\n    } else {\n      x = a;\n      y = b;\n      z = c;\n      w = d;\n      h = e;\n      d = f;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.width = w;\n    this.height = h;\n    this.depth = d;\n    // TODO Set this via an argument to the constructor\n    this.friction = 0.85;\n    // TODO Set this via an argument to the constructor\n    this.max = 6;\n  }\n\n  /**\n   * Returns true to indicate this is a BoxZone.\n   *\n   * @return {boolean}\n   */\n  isBoxZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.vector.x = this.x + MathUtils.randomAToB(-0.5, 0.5) * this.width;\n    this.vector.y = this.y + MathUtils.randomAToB(-0.5, 0.5) * this.height;\n    this.vector.z = this.z + MathUtils.randomAToB(-0.5, 0.5) * this.depth;\n\n    return this.vector;\n  }\n\n  _dead(particle) {\n    if (particle.position.x + particle.radius < this.x - this.width / 2)\n      particle.dead = true;\n    else if (particle.position.x - particle.radius > this.x + this.width / 2)\n      particle.dead = true;\n\n    if (particle.position.y + particle.radius < this.y - this.height / 2)\n      particle.dead = true;\n    else if (particle.position.y - particle.radius > this.y + this.height / 2)\n      particle.dead = true;\n\n    if (particle.position.z + particle.radius < this.z - this.depth / 2)\n      particle.dead = true;\n    else if (particle.position.z - particle.radius > this.z + this.depth / 2)\n      particle.dead = true;\n  }\n\n  _bound(particle) {\n    if (particle.position.x - particle.radius < this.x - this.width / 2) {\n      particle.position.x = this.x - this.width / 2 + particle.radius;\n      particle.velocity.x *= -this.friction;\n      this._static(particle, 'x');\n    } else if (particle.position.x + particle.radius > this.x + this.width / 2) {\n      particle.position.x = this.x + this.width / 2 - particle.radius;\n      particle.velocity.x *= -this.friction;\n      this._static(particle, 'x');\n    }\n\n    if (particle.position.y - particle.radius < this.y - this.height / 2) {\n      particle.position.y = this.y - this.height / 2 + particle.radius;\n      particle.velocity.y *= -this.friction;\n      this._static(particle, 'y');\n    } else if (particle.position.y + particle.radius > this.y + this.height / 2) {\n      particle.position.y = this.y + this.height / 2 - particle.radius;\n      particle.velocity.y *= -this.friction;\n      this._static(particle, 'y');\n    }\n\n    if (particle.position.z - particle.radius < this.z - this.depth / 2) {\n      particle.position.z = this.z - this.depth / 2 + particle.radius;\n      particle.velocity.z *= -this.friction;\n      this._static(particle, 'z');\n    } else if (particle.position.z + particle.radius > this.z + this.depth / 2) {\n      particle.position.z = this.z + this.depth / 2 - particle.radius;\n      particle.velocity.z *= -this.friction;\n      this._static(particle, 'z');\n    }\n  }\n\n  _static(particle, axis) {\n    if (particle.velocity[axis] * particle.acceleration[axis] > 0) return;\n    if (\n      Math.abs(particle.velocity[axis]) <\n      Math.abs(particle.acceleration[axis]) * 0.0167 * this.max\n    ) {\n      particle.velocity[axis] = 0;\n      particle.acceleration[axis] = 0;\n    }\n  }\n\n  _cross(particle) {\n    if (\n      particle.position.x + particle.radius < this.x - this.width / 2 &&\n      particle.velocity.x <= 0\n    )\n      particle.position.x = this.x + this.width / 2 + particle.radius;\n    else if (\n      particle.position.x - particle.radius > this.x + this.width / 2 &&\n      particle.velocity.x >= 0\n    )\n      particle.position.x = this.x - this.width / 2 - particle.radius;\n\n    if (\n      particle.position.y + particle.radius < this.y - this.height / 2 &&\n      particle.velocity.y <= 0\n    )\n      particle.position.y = this.y + this.height / 2 + particle.radius;\n    else if (\n      particle.position.y - particle.radius > this.y + this.height / 2 &&\n      particle.velocity.y >= 0\n    )\n      particle.position.y = this.y - this.height / 2 - particle.radius;\n\n    if (\n      particle.position.z + particle.radius < this.z - this.depth / 2 &&\n      particle.velocity.z <= 0\n    )\n      particle.position.z = this.z + this.depth / 2 + particle.radius;\n    else if (\n      particle.position.z - particle.radius > this.z + this.depth / 2 &&\n      particle.velocity.z >= 0\n    )\n      particle.position.z = this.z - this.depth / 2 - particle.radius;\n  }\n}\n","import Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_LINE as type } from './types';\n\nexport default class LineZone extends Zone {\n  /**\n   * LineZone is a 3d line zone\n   * @param {Number|Vector3D} x1 - the line's start point of x value or a Vector3D Object\n   * @param {Number|Vector3D} y1 - the line's start point of y value or a Vector3D Object\n   * @param {Number} z1 - the line's start point of z value\n   * @param {Number} x2 - the line's end point of x value\n   * @param {Number} y2 - the line's end point of y value\n   * @param {Number} z2 - the line's end point of z value\n   * @example\n   * var lineZone = new System.LineZone(0,0,0,100,100,0);\n   * or\n   * var lineZone = new System.LineZone(new System.Vector3D(0,0,0),new System.Vector3D(100,100,0));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(x1, y1, z1, x2, y2, z2) {\n    super(type);\n\n    if (x1 instanceof Vector3D) {\n      this.x1 = x1.x;\n      this.y1 = x1.y;\n      this.z1 = x1.z;\n\n      this.x2 = x2.x;\n      this.y2 = x2.y;\n      this.z2 = x2.z;\n    } else {\n      this.x1 = x1;\n      this.y1 = y1;\n      this.z1 = z1;\n\n      this.x2 = x2;\n      this.y2 = y2;\n      this.z2 = z2;\n    }\n\n    this.supportsCrossing = false;\n  }\n\n  /**\n   * Returns true to indicate this is a LineZone.\n   *\n   * @return {boolean}\n   */\n  isLineZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.random = Math.random();\n    this.vector.x = this.x1 + this.random * (this.x2 - this.x1);\n    this.vector.y = this.y1 + this.random * (this.y2 - this.y1);\n    this.vector.z = this.z1 + this.random * (this.z2 - this.z1);\n\n    return this.vector;\n  }\n}\n","import Zone from './Zone';\nimport { ZONE_TYPE_MESH as type } from './types';\n\n/**\n * Uses a three THREE.Geometry to determine the zone parameters.\n *\n */\nexport default class MeshZone extends Zone {\n  /**\n   * @constructs {MeshZone}\n   *\n   * @param {THREE.Geometry|Mesh} bounds - the geometry or mesh that will determine the zone bounds\n   * @param {number} scale - the zone scale\n   * @return void\n   */\n  constructor(bounds, scale = 1) {\n    super(type);\n\n    this.geometry = null;\n    this.scale = scale;\n    this.supportsCrossing = false;\n\n    if (bounds.type && bounds.type === 'Geometry') {\n      this.geometry = bounds;\n    }\n\n    if (bounds.geometry) {\n      this.geometry = bounds.geometry;\n    }\n\n    if (!this.geometry) {\n      throw new Error(\n        'MeshZone unable to set geometry from the supplied bounds'\n      );\n    }\n  }\n\n  /**\n   * Returns true to indicate this is a MeshZone.\n   *\n   * @return {boolean}\n   */\n  isMeshZone() {\n    return true;\n  }\n\n  getPosition() {\n    var vertices = this.geometry.vertices;\n    var rVector = vertices[(vertices.length * Math.random()) >> 0];\n\n    this.vector.x = rVector.x * this.scale;\n    this.vector.y = rVector.y * this.scale;\n    this.vector.z = rVector.z * this.scale;\n\n    return this.vector;\n  }\n}\n","import Util from '../utils/Util';\nimport Zone from './Zone';\nimport { ZONE_TYPE_POINT as type } from './types';\n\nexport default class PointZone extends Zone {\n  /**\n   * PointZone is a point zone\n   * @param {Number|Vector3D} x - the center's x value or a Vector3D Object\n   * @param {Number} y - the center's y value\n   * @param {Number} z - the center's z value\n   * @example\n   * var pointZone = new System.PointZone(0,30,10);\n   * or\n   * var pointZone = new System.PointZone(new System.Vector3D(0,30,10));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, c) {\n    super(type);\n\n    // TODO see below, these should probably be assigned properly\n    // eslint-disable-next-line\n    var x, y, z;\n\n    if (Util.isUndefined(a, b, c)) {\n      x = y = z = 0;\n    } else {\n      x = a;\n      y = b;\n      z = c;\n    }\n\n    this.x = x;\n\n    // TODO shouldn't this be set to y?\n    this.y = x;\n\n    // TODO shouldn't this be set to z?\n    this.z = x;\n    this.supportsCrossing = false;\n  }\n\n  /**\n   * Returns true to indicate this is a PointZone.\n   *\n   * @return {boolean}\n   */\n  isPointZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.vector.x = this.x;\n    this.vector.y = this.y;\n    this.vector.z = this.z;\n\n    return this.vector;\n  }\n}\n","import { PI } from '../constants';\nimport Util from '../utils/Util';\nimport Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_SPHERE as type } from './types';\n\n/**\n * A spherical zone for particles to be emitted within.\n *\n */\nexport default class SphereZone extends Zone {\n  /**\n   * @constructs {SphereZone}\n   *\n   * @param {number} centerX - the sphere's center x coordinate\n   * @param {number} centerY - the sphere's center y coordinate\n   * @param {number} centerZ - the sphere's center z coordinate\n   * @param {number} radius - the sphere's radius value\n   * @return void\n   */\n  constructor(centerX, centerY, centerZ, radius) {\n    super(type);\n\n    // TODO see below, these should probably be assigned properly\n    // eslint-disable-next-line\n    let x, y, z, r;\n\n    if (Util.isUndefined(centerY, centerZ, radius)) {\n      x = y = z = 0;\n      r = centerX || 100;\n    } else {\n      x = centerX;\n      y = centerY;\n      z = centerZ;\n      r = radius;\n    }\n\n    this.x = x;\n\n    // TODO shouldn't this be set to y?\n    this.y = x;\n\n    // TODO shouldn't this be set to z?\n    this.z = x;\n    this.radius = r;\n    this.the = this.phi = 0;\n  }\n\n  /**\n   * Returns true to indicate this is a SphereZone.\n   *\n   * @return {boolean}\n   */\n  isSphereZone() {\n    return true;\n  }\n\n  /**\n   * Sets the particle to dead if the particle collides with the sphere.\n   *\n   * @param {object} particle\n   * @return void\n   */\n  _dead(particle) {\n    var d = particle.position.distanceTo(this);\n\n    if (d - particle.radius > this.radius) particle.dead = true;\n  }\n\n  /**\n   * Warns that this zone does not support the _cross method.\n   *\n   * @return void\n   */\n  _cross() {\n    console.warn(`${this.constructor.name} does not support the _cross method`);\n  }\n}\n\nSphereZone.prototype.getPosition = (function() {\n  var tha, phi, r;\n\n  return function() {\n    this.random = Math.random();\n\n    r = this.random * this.radius;\n    tha = PI * Math.random(); //[0-pi]\n    phi = PI * 2 * Math.random(); //[0-2pi]\n\n    this.vector.x = this.x + r * Math.sin(tha) * Math.cos(phi);\n    this.vector.y = this.y + r * Math.sin(phi) * Math.sin(tha);\n    this.vector.z = this.z + r * Math.cos(tha);\n\n    return this.vector;\n  };\n})();\n\nSphereZone.prototype._bound = (function() {\n  var normal = new Vector3D(),\n    v = new Vector3D(),\n    k;\n\n  return function(particle) {\n    var d = particle.position.distanceTo(this);\n\n    if (d + particle.radius >= this.radius) {\n      normal\n        .copy(particle.position)\n        .sub(this)\n        .normalize();\n      v.copy(particle.velocity);\n      k = 2 * v.dot(normal);\n      particle.velocity.sub(normal.scalar(k));\n    }\n  };\n})();\n","import * as Zone from '../zone';\n\nimport Initializer from './Initializer';\nimport { SUPPORTED_JSON_ZONE_TYPES } from '../core/constants';\nimport { INITIALIZER_TYPE_POSITION as type } from './types';\n\n/**\n * Sets the starting position property for initialized particles.\n * This is derived from a zone randomly chosen from those supplied to the constructor.\n *\n */\nexport default class Position extends Initializer {\n  /**\n   * Constructs a Position initializer instance.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  constructor() {\n    super(type);\n\n    this.reset.apply(this, arguments);\n  }\n\n  /**\n   * Resets the initializer properties.\n   * Clears all previously set zones and resets the zones according to args passed.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  reset() {\n    if (!this.zones) {\n      this.zones = [];\n    } else {\n      this.zones.length = 0;\n    }\n\n    /**\n     * @desc The zones to use as bounds for calculating the particle's starting position.\n     * @type {array<Zone>}\n     */\n    this.zones = this.zones.concat(Array.prototype.slice.call(arguments));\n  }\n\n  /**\n   * Adds a zone or zones to this.zones.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  addZone() {\n    this.zones = this.zones.concat(Array.prototype.slice.call(arguments));\n  }\n\n  /**\n   * Creates a Position initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {string} json.zoneType - The type of zone to use for initial position\n   * @return {Position}\n   */\n  static fromJSON(json) {\n    const { zoneType, ...params } = json;\n\n    if (!SUPPORTED_JSON_ZONE_TYPES.includes(zoneType)) {\n      throw new Error(\n        `The zone type ${zoneType} is invalid or not yet supported`\n      );\n    }\n\n    return new Position(new Zone[zoneType](...Object.values(params)));\n  }\n}\n\n/**\n * Sets the particle's initial position.\n *\n * @param {Particle} particle - the particle to initialize the property on\n * @return void\n */\nPosition.prototype.initialize = (function() {\n  let zone;\n\n  return function(target) {\n    zone = this.zones[(Math.random() * this.zones.length) >> 0];\n\n    zone.getPosition();\n\n    target.position.x = zone.vector.x;\n    target.position.y = zone.vector.y;\n    target.position.z = zone.vector.z;\n  };\n})();\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_RADIUS as type } from './types';\n/**\n * Sets the radius property on initialized particles.\n *\n */\nexport default class Radius extends Initializer {\n  /**\n   * Constructs a Radius initializer instance.\n   *\n   * @param {number} width - The width of the particle radius\n   * @param {number} height - The height of the particle radius\n   * @param {boolean} [center=false] - Determines whether to average the radius value\n   * @return void\n   */\n  constructor(width, height, center = false, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The radius span which is used to set the particle radius value.\n     * @type {Span}\n     */\n    this.radius = createSpan(width, height, center);\n  }\n\n  /**\n   * Resets the initializer properties.\n   * Clears all previously set zones and resets the zones according to args passed.\n   *\n   * @param {number} width - The width of the particle radius\n   * @param {number} height - The height of the particle radius\n   * @param {boolean} [center=false] - Determines whether to average the radius value\n   * @return void\n   */\n  reset(width, height, center = false) {\n    this.radius = createSpan(width, height, center);\n  }\n\n  /**\n   * Sets the particle's initial radius.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    particle.radius = this.radius.getValue();\n    particle.transform.oldRadius = particle.radius;\n  }\n\n  /**\n   * Creates a Radius initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.width - The width of the particle radius\n   * @property {number} json.height - The height of the particle radius\n   * @property {number} json.center - The center of the particle radius\n   * @return {Radius}\n   */\n  static fromJSON(json) {\n    const { width, height, center = false, isEnabled = true } = json;\n\n    return new Radius(width, height, center, isEnabled);\n  }\n}\n","import { DEFAULT_RATE_NUM_PAN, DEFAULT_RATE_TIME_PAN } from './constants';\nimport { Span, createSpan } from '../math';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_RATE as type } from './types';\n\n/**\n * Calculates the rate of particle emission.\n *\n * NOTE This doesn't need to be an initializer, it doesn't have an initialize\n * method, it overrides the base init method and it is only relevent to the Emitter class.\n * It would be better to move this to the Emitter module itself as a standalone class.\n *\n */\nexport default class Rate extends Initializer {\n  /**\n   * Constructs a Rate instance.\n   *\n   * @param {number|array|Span} numPan - The number of particles to emit\n   * @param {number|array|Span} timePan - The time between each particle emission\n   * @return void\n   */\n  constructor(numPan = DEFAULT_RATE_NUM_PAN, timePan = DEFAULT_RATE_TIME_PAN) {\n    super(type);\n\n    /**\n     * @desc Sets the number of particles to emit.\n     * @type {Span}\n     */\n    this.numPan = createSpan(numPan);\n\n    /**\n     * @desc Sets the time between each particle emission.\n     * @type {Span}\n     */\n    this.timePan = createSpan(timePan);\n\n    /**\n     * @desc The rate's start time.\n     * @type {number}\n     */\n    this.startTime = 0;\n\n    /**\n     * @desc The rate's next time.\n     * @type {number}\n     */\n    this.nextTime = 0;\n\n    this.init();\n  }\n\n  /**\n   * Sets the startTime and nextTime properties.\n   *\n   * @return void\n   */\n  init() {\n    this.startTime = 0;\n    this.nextTime = this.timePan.getValue();\n  }\n\n  /**\n   * Gets the number of particles to emit.\n   *\n   * @param {number} time - Current particle engine time\n   * @return {number}\n   */\n  getValue(time) {\n    this.startTime += time;\n\n    if (this.startTime >= this.nextTime) {\n      this.init();\n\n      if (this.numPan.b == 1) {\n        if (this.numPan.getValue('Float') > 0.5) return 1;\n        else return 0;\n      } else {\n        return this.numPan.getValue('Int');\n      }\n    }\n\n    return 0;\n  }\n\n  /**\n   * Creates a Rate initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.particlesMin - The minimum number of particles to emit\n   * @property {number} json.particlesMax - The maximum number of particles to emit\n   * @property {number} json.perSecondMin - The minimum per second emit rate\n   * @property {number} json.perSecondMax - The maximum per second emit rate\n   * @return {Rate}\n   */\n  static fromJSON(json) {\n    const { particlesMin, particlesMax, perSecondMin, perSecondMax } = json;\n\n    return new Rate(\n      new Span(particlesMin, particlesMax),\n      new Span(perSecondMin, perSecondMax)\n    );\n  }\n}\n","import {\n  DEFAULT_JSON_MATERIAL_PROPERTIES,\n  DEFAULT_MATERIAL_PROPERTIES,\n  SUPPORTED_MATERIAL_BLENDING_MODES,\n} from './constants';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_TEXTURE as type } from './types';\nimport { withDefaults } from '../utils';\n\n/**\n * Sets the body property to be a THREE.Sprite with a texture map on initialized particles.\n *\n */\nexport default class Texture extends Initializer {\n  /**\n   * Constructs an Texture initializer.\n   *\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} texture - The sprite texture\n   * @param {object|undefined} materialProperties - The sprite material properties\n   * @param {?Texture} loadedTexture - Preloaded THREE.Texture instance\n   */\n  constructor(\n    THREE,\n    loadedTexture,\n    materialProperties = DEFAULT_MATERIAL_PROPERTIES,\n    isEnabled = true\n  ) {\n    super(type, isEnabled);\n\n    const { Sprite, SpriteMaterial } = THREE;\n\n    /**\n     * @desc The material properties for this object's SpriteMaterial\n     * NOTE This is required for testing purposes\n     * @type {object}\n     */\n    this.materialProperties = withDefaults(\n      DEFAULT_MATERIAL_PROPERTIES,\n      materialProperties\n    );\n\n    /**\n     * @desc The texture for the THREE.SpriteMaterial map.\n     * @type {Texture}\n     */\n    this.texture = loadedTexture;\n\n    /**\n     * @desc THREE.SpriteMaterial instance.\n     * @type {SpriteMaterial}\n     */\n    this.material = new SpriteMaterial({\n      ...{ map: loadedTexture },\n      ...this.materialProperties,\n    });\n\n    /**\n     * @desc THREE.Sprite instance.\n     * @type {Sprite}\n     */\n    this.sprite = new Sprite(this.material);\n  }\n\n  /**\n   * Sets the particle body to the sprite.\n   *\n   * @param {Particle} particle - The particle to set the body of\n   * @return void\n   */\n  initialize(particle) {\n    particle.body = this.sprite;\n  }\n\n  /**\n   * Creates a Texture initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {Texture} json.loadedTexture - The loaded sprite texture\n   * @param {object} json.materialProperties - The sprite material properties\n   * @return {BodySprite}\n   */\n  static fromJSON(json, THREE) {\n    const {\n      loadedTexture,\n      materialProperties = DEFAULT_JSON_MATERIAL_PROPERTIES,\n      isEnabled = true,\n    } = json;\n\n    const ensureMappedBlendingMode = properties => {\n      const { blending } = properties;\n\n      return {\n        ...properties,\n        blending: blending\n          ? SUPPORTED_MATERIAL_BLENDING_MODES[blending]\n          : SUPPORTED_MATERIAL_BLENDING_MODES[\n            DEFAULT_JSON_MATERIAL_PROPERTIES.blending\n          ],\n      };\n    };\n\n    return new Texture(\n      THREE,\n      loadedTexture,\n      withDefaults(\n        DEFAULT_JSON_MATERIAL_PROPERTIES,\n        ensureMappedBlendingMode(materialProperties)\n      ),\n      isEnabled\n    );\n  }\n}\n","import { MEASURE, PI } from '../../constants';\nimport { MathUtils, Vector3D } from '../../math';\n\nimport Initializer from '../Initializer';\n\n/**\n * Abstract class for Velocity initializers.\n *\n */\nexport default class Velocity extends Initializer {\n  /**\n   * Constructs a Velocity intitializer instance.\n   *\n   * @return void\n   */\n  constructor(type, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Directional vector\n     * @type {Vector3D}\n     */\n    this.dirVec = new Vector3D(0, 0, 0);\n  }\n\n  normalize(vr) {\n    return vr * MEASURE;\n  }\n}\n\n/**\n * Sets the particle's initial velocity.\n *\n * @singleton\n * @param {Particle} particle - the particle to initialize the property on\n * @return void\n */\nVelocity.prototype.initialize = (function() {\n  var tha;\n  var normal = new Vector3D(0, 0, 1);\n  var v = new Vector3D(0, 0, 0);\n\n  return function initialize(particle) {\n    tha = this.tha * Math.random();\n    this._useV && this.dirVec.copy(this.dir).scalar(this.radiusPan.getValue());\n\n    MathUtils.getNormal(this.dirVec, normal);\n    v.copy(this.dirVec).applyAxisAngle(normal, tha);\n    v.applyAxisAngle(this.dirVec.normalize(), Math.random() * PI * 2);\n\n    particle.velocity.copy(v);\n\n    return this;\n  };\n})();\n","import { DR } from '../../constants';\nimport { Polar3D } from '../../math';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_POLAR_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class PolarVelocity extends Velocity {\n  /**\n   * Constructs a PolarVelocity initializer.\n   *\n   * @param {Polar3D} polar3d - The polar vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(polar3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Directional vector\n     * @type {Vector3D}\n     */\n    this.dirVec = polar3d.toVector3D();\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = false;\n  }\n\n  /**\n   * Creates a PolarVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.polarRadius - The Polar3D radius\n   * @param {number} json.polarTheta - The Polar3D theta\n   * @param {number} json.polarPhi - The Polar3D phi\n   * @param {number} json.velocityTheta - The velocity theta\n   * @return {PolarVelocity}\n   */\n  static fromJSON(json) {\n    const {\n      polarRadius,\n      polarTheta,\n      polarPhi,\n      velocityTheta,\n      isEnabled = true,\n    } = json;\n\n    return new PolarVelocity(\n      new Polar3D(polarRadius, polarTheta, polarPhi),\n      velocityTheta,\n      isEnabled\n    );\n  }\n}\n","import { Vector3D, createSpan } from '../../math';\n\nimport { DR } from '../../constants';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_RADIAL_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class RadialVelocity extends Velocity {\n  /**\n   * Constructs a RadialVelocity initializer.\n   *\n   * @param {number|Span} radius - The velocity radius\n   * @param {Vector3D} vector3d - The directional vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(radius, vector3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Velocity radius span.\n     * @type {Span}\n     */\n    this.radiusPan = createSpan(radius);\n\n    /**\n     * @desc Direction vector.\n     * @type {Vector3D}\n     */\n    this.dir = vector3d.clone().normalize();\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = true;\n  }\n\n  /**\n   * Creates a RadialVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.radius - The velocity radius\n   * @param {number} json.x - The velocity x axis direction\n   * @param {number} json.y - The velocity y axis direction\n   * @param {number} json.z - The velocity z axis direction\n   * @param {number} json.theta - The velocity theta\n   * @return {RadialVelocity}\n   */\n  static fromJSON(json) {\n    const { radius, x, y, z, theta, isEnabled = true } = json;\n\n    return new RadialVelocity(radius, new Vector3D(x, y, z), theta, isEnabled);\n  }\n}\n","import { Vector3D, createSpan } from '../../math';\n\nimport { DR } from '../../constants';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_VECTOR_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class VectorVelocity extends Velocity {\n  /**\n   * Constructs a VectorVelocity initializer.\n   *\n   * @param {Vector3D} vector3d - The directional vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(vector3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Velocity radius span.\n     * @type {Span}\n     */\n    this.radiusPan = createSpan(1);\n\n    /**\n     * @desc Direction vector.\n     * @type {Vector3D}\n     */\n    this.dir = vector3d.clone();\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = true;\n  }\n\n  /**\n   * Creates a VectorVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.x - The velocity x axis direction\n   * @param {number} json.y - The velocity y axis direction\n   * @param {number} json.z - The velocity z axis direction\n   * @param {number} json.theta - The velocity theta\n   * @return {VectorVelocity}\n   */\n  static fromJSON(json) {\n    const { x, y, z, theta, isEnabled = true } = json;\n\n    return new VectorVelocity(new Vector3D(x, y, z), theta, isEnabled);\n  }\n}\n","import { Rate } from '../initializer';\n\nexport const DEFAULT_DAMPING = 0.006;\nexport const DEFAULT_BIND_EMITTER = true;\nexport const DEFAULT_EMITTER_RATE = new Rate(1, 0.1);\nexport const DEFAULT_BIND_EMITTER_EVENT = false;\n","export const EMITTER_TYPE_EMITTER = 'Emitter';\nexport const EMITTER_TYPE_FOLLOW = 'FollowEmitter';\n","import {\n  DEFAULT_BIND_EMITTER,\n  DEFAULT_BIND_EMITTER_EVENT,\n  DEFAULT_DAMPING,\n  DEFAULT_EMITTER_RATE,\n} from './constants';\nimport EventDispatcher, {\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n} from '../events';\nimport { INTEGRATION_TYPE_EULER, integrate } from '../math';\nimport { Util, uid } from '../utils';\n\nimport { InitializerUtil } from '../initializer';\nimport Particle from '../core/Particle';\nimport isNumber from 'lodash/isNumber';\nimport { EMITTER_TYPE_EMITTER as type } from './types';\n\n/**\n * Emitters are the System engine's particle factories. They cause particles to\n * be rendered by emitting them, and store all particle initializers and behaviours.\n *\n */\nexport default class Emitter extends Particle {\n  /**\n   * Constructs an Emitter instance.\n   *\n   * @param {object} properties - The properties to instantiate the emitter with\n   * @return void\n   */\n  constructor(properties) {\n    super(properties);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc The particles emitted by this emitter.\n     * @type {array}\n     */\n    this.particles = [];\n\n    /**\n     * @desc The initializers for particles emitted by this emitter.\n     * @type {array}\n     */\n    this.initializers = [];\n\n    /**\n     * @desc The behaviours for particles emitted by this emitter.\n     * @type {array}\n     */\n    this.behaviours = [];\n\n    /**\n     * @desc The behaviours for the emitter.\n     * @type {array}\n     */\n    this.emitterBehaviours = [];\n\n    /**\n     * @desc The current emit iteration.\n     * @type {integer}\n     */\n    this.currentEmitTime = 0;\n\n    /**\n     * @desc The total number of times the emitter should emit particles.\n     * @type {integer}\n     */\n    this.totalEmitTimes = -1;\n\n    /**\n     * @desc The friction coefficient for all particle to emit by.\n     * @type {number}\n     */\n    this.damping = DEFAULT_DAMPING;\n\n    /**\n     * @desc Ensures that particles emitted by this emitter are positioned\n     * according to the emitter's properties.\n     * @type {boolean}\n     */\n    this.bindEmitter = DEFAULT_BIND_EMITTER;\n\n    /**\n     * @desc Determines if the emitter will dispatch internal events. Defaults\n     * to false\n     * @type {boolean}\n     */\n    this.bindEmitterEvent = DEFAULT_BIND_EMITTER_EVENT;\n\n    /**\n     * @desc The number of particles to emit per second (a [particle]/b [s])\n     * @type {Rate}\n     */\n    this.rate = DEFAULT_EMITTER_RATE;\n\n    /**\n     * @desc The emitter's id.\n     * @type {string}\n     */\n    this.id = `emitter-${uid()}`;\n    this.cID = 0;\n    this.name = 'Emitter';\n\n    /**\n     * @desc The emitter's internal event dispatcher.\n     * @type {EventDispatcher}\n     */\n    this.eventDispatcher = new EventDispatcher();\n  }\n\n  /**\n   * Proxy method for the internal event dispatcher's dispatchEvent method.\n   *\n   * @param {string} event - The event to dispatch\n   * @param {object<Particle>} [target=this] - The event target\n   */\n  dispatch(event, target = this) {\n    this.eventDispatcher.dispatchEvent(event, target);\n  }\n\n  /**\n   * Sets the emitter rate.\n   *\n   * @param {Rate} rate - a rate initializer object\n   * @return {Emitter}\n   */\n  setRate(rate) {\n    this.rate = rate;\n\n    return this;\n  }\n\n  /**\n   * Sets the position of the emitter.\n   *\n   * @param {object} newPosition - an object the new x, y and z props\n   * @return {Emitter}\n   */\n  setPosition(newPosition = {}) {\n    const { position } = this;\n    const { x = position.x, y = position.y, z = position.z } = newPosition;\n\n    this.position.set(x, y, z);\n\n    return this;\n  }\n\n  /**\n   * Sets the rotation of the emitter.\n   *\n   * @param {object} newRotation - an object the new x, y and z props\n   * @return {Emitter}\n   */\n  setRotation(newRotation = {}) {\n    const { rotation } = this;\n    const { x = rotation.x, y = rotation.y, z = rotation.z } = newRotation;\n\n    this.rotation.set(x, y, z);\n\n    return this;\n  }\n\n  /**\n   * Sets the total number of times the emitter should emit particles as well as\n   * the emitter's life. Also intializes the emitter rate.\n   * This enables the emitter to emit particles.\n   *\n   * @param {number} [totalEmitTimes=Infinity] - the total number of times to emit particles\n   * @param {number} [life=Infinity] - the life of this emitter in milliseconds\n   * @return {Emitter}\n   */\n  emit(totalEmitTimes = Infinity, life = Infinity) {\n    this.currentEmitTime = 0;\n    this.totalEmitTimes = isNumber(totalEmitTimes) ? totalEmitTimes : Infinity;\n\n    if (totalEmitTimes === 1) {\n      this.life = totalEmitTimes;\n    } else {\n      this.life = isNumber(life) ? life : Infinity;\n    }\n\n    this.rate.init();\n\n    return this;\n  }\n\n  /**\n   * Stops the emitter from emitting particles.\n   *\n   * @return void\n   */\n  stopEmit() {\n    this.totalEmitTimes = -1;\n    this.currentEmitTime = 0;\n  }\n\n  /**\n   * Kills all of the emitter's particles.\n   *\n   * @return void\n   */\n  removeAllParticles() {\n    let i = this.particles.length;\n\n    while (i--) {\n      this.particles[i].dead = true;\n    }\n  }\n\n  /**\n   * Adds a particle initializer to the emitter.\n   * Each initializer is run on each particle when they are created.\n   *\n   * @param {Initializer} initializer - The initializer to add\n   * @return {Emitter}\n   */\n  addInitializer(initializer) {\n    this.initializers.push(initializer);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple particle initializers to the emitter.\n   *\n   * @param {array<Initializer>} initializers - an array of particle initializers\n   * @return {Emitter}\n   */\n  addInitializers(initializers) {\n    let i = initializers.length;\n\n    while (i--) {\n      this.addInitializer(initializers[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's particle initializers.\n   *\n   * @param {array<Initializer>} initializers - an array of particle initializers\n   * @return {Emitter}\n   */\n  setInitializers(initializers) {\n    this.initializers = initializers;\n\n    return this;\n  }\n\n  /**\n   * Removes an initializer from the emitter's initializers array.\n   *\n   * @param {Initializer} initializer - The initializer to remove\n   * @return {Emitter}\n   */\n  removeInitializer(initializer) {\n    const index = this.initializers.indexOf(initializer);\n\n    if (index > -1) {\n      this.initializers.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all initializers.\n   *\n   * @return {Emitter}\n   */\n  removeAllInitializers() {\n    Util.destroyArray(this.initializers);\n\n    return this;\n  }\n\n  /**\n   * Adds a behaviour to the emitter. All emitter behaviours are added to each particle when\n   * they are emitted.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the emitter\n   * @return {Emitter}\n   */\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple behaviours to the emitter.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  addBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addBehaviour(behaviours[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's behaviours.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  setBehaviours(behaviours) {\n    this.behaviours = behaviours;\n\n    return this;\n  }\n\n  /**\n   * Removes the behaviour from the emitter's behaviours array.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove\n   * @return {Emitter}\n   */\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.behaviours.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all behaviours from the emitter.\n   *\n   * @return {Emitter}\n   */\n  removeAllBehaviours() {\n    Util.destroyArray(this.behaviours);\n\n    return this;\n  }\n\n  /**\n   * Adds an emitter behaviour to the emitter.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the emitter\n   * @return {Emitter}\n   */\n  addEmitterBehaviour(behaviour) {\n    this.emitterBehaviours.push(behaviour);\n\n    behaviour.initialize(this);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple behaviours to the emitter.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  addEmitterBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addEmitterBehaviour(behaviours[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's behaviours.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  setEmitterBehaviours(behaviours) {\n    const length = behaviours.length;\n\n    this.emitterBehaviours = behaviours;\n\n    for (let i = 0; i < length; i++) {\n      this.emitterBehaviours[i].initialize(this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the behaviour from the emitter's behaviours array.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove\n   * @return {Emitter}\n   */\n  removeEmitterBehaviour(behaviour) {\n    const index = this.emitterBehaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.emitterBehaviours.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all behaviours from the emitter.\n   *\n   * @return {Emitter}\n   */\n  removeAllEmitterBehaviours() {\n    Util.destroyArray(this.emitterBehaviours);\n\n    return this;\n  }\n\n  /**\n   * Creates a particle by retreiving one from the pool and setting it up with\n   * the supplied initializer and behaviour.\n   *\n   * @return {Emitter}\n   */\n  createParticle() {\n    const particle = this.parent.pool.get(Particle);\n\n    this.setupParticle(particle);\n    this.parent && this.parent.dispatch(PARTICLE_CREATED, particle);\n    this.bindEmitterEvent && this.dispatch(PARTICLE_CREATED, particle);\n\n    return particle;\n  }\n\n  /**\n   * Sets up a particle by running all initializers on it and setting its behaviours.\n   * Also adds the particle to this.particles.\n   *\n   * @param {Particle} particle - The particle to setup\n   * @return void\n   */\n  setupParticle(particle) {\n    const { initializers, behaviours } = this;\n\n    InitializerUtil.initialize(this, particle, initializers);\n\n    particle.addBehaviours(behaviours);\n    particle.parent = this;\n\n    this.particles.push(particle);\n  }\n\n  /**\n   * Updates the emitter according to the time passed by calling the generate\n   * and integrate methods. The generate method creates particles, the integrate\n   * method updates existing particles.\n   *\n   * If the emitter age is greater than time, the emitter is killed.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  update(time) {\n    this.age += time;\n\n    if (this.dead || this.age >= this.life) {\n      this.destroy();\n    }\n\n    this.generate(time);\n    this.integrate(time);\n\n    let i = this.particles.length;\n\n    while (i--) {\n      const particle = this.particles[i];\n\n      if (particle.dead) {\n        this.parent && this.parent.dispatch(PARTICLE_DEAD, particle);\n        this.bindEmitterEvent && this.dispatch(PARTICLE_DEAD, particle);\n        this.parent.pool.expire(particle.reset());\n        this.particles.splice(i, 1);\n      }\n    }\n\n    this.updateEmitterBehaviours(time);\n  }\n\n  /**\n   * Updates the emitter's emitter behaviours.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  updateEmitterBehaviours(time) {\n    if (this.sleep) {\n      return;\n    }\n\n    const length = this.emitterBehaviours.length;\n\n    for (let i = 0; i < length; i++) {\n      this.emitterBehaviours[i].applyBehaviour(this, time, i);\n    }\n  }\n\n  /**\n   * Runs the integration algorithm on the emitter and all particles.\n   * Updates the particles with the timstamp passed.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  integrate(time) {\n    const integrationType = this.parent\n      ? this.parent.integrationType\n      : INTEGRATION_TYPE_EULER;\n    const damping = 1 - this.damping;\n\n    integrate(this, time, damping, integrationType);\n\n    let i = this.particles.length;\n\n    while (i--) {\n      const particle = this.particles[i];\n\n      particle.update(time, i);\n      integrate(particle, time, damping, integrationType);\n\n      this.parent && this.parent.dispatch(PARTICLE_UPDATE, particle);\n      this.bindEmitterEvent && this.dispatch(PARTICLE_UPDATE, particle);\n    }\n  }\n\n  /**\n   * Generates new particles.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  generate(time) {\n    if (this.totalEmitTimes === 1) {\n      let i = this.rate.getValue(99999);\n\n      if (i > 0) {\n        this.cID = i;\n      }\n\n      while (i--) {\n        this.createParticle();\n      }\n\n      this.totalEmitTimes = 0;\n\n      return;\n    }\n\n    this.currentEmitTime += time;\n\n    if (this.currentEmitTime < this.totalEmitTimes) {\n      let i = this.rate.getValue(time);\n\n      if (i > 0) {\n        this.cID = i;\n      }\n\n      while (i--) {\n        this.createParticle();\n      }\n    }\n  }\n\n  /**\n   * Kills the emitter.\n   *\n   * @return void\n   */\n  destroy() {\n    this.dead = true;\n    this.energy = 0;\n    this.totalEmitTimes = -1;\n\n    if (this.particles.length == 0) {\n      this.removeAllInitializers();\n      this.removeAllBehaviours();\n\n      this.parent && this.parent.removeEmitter(this);\n    }\n  }\n}\n","export const SYSTEM_UPDATE = 'SYSTEM_UPDATE';\nexport const PARTICLE_CREATED = 'PARTICLE_CREATED';\nexport const PARTICLE_UPDATE = 'PARTICLE_UPDATE';\nexport const PARTICLE_DEAD = 'PARTICLE_DEAD';\nexport const EMITTER_ADDED = 'EMITTER_ADDED';\nexport const EMITTER_REMOVED = 'EMITTER_REMOVED';\nexport const SYSTEM_UPDATE_AFTER = 'SYSTEM_UPDATE_AFTER';\n","import { easeLinear } from '../ease';\n\nexport const DEFAULT_LIFE = Infinity;\nexport const DEFAULT_ATTRACITON_RADIUS = 1000;\nexport const DEFAULT_ATTRACTION_FORCE_SCALAR = 100;\nexport const DEFAULT_BEHAVIOUR_EASING = easeLinear;\nexport const DEFAULT_BEHAVIOUR_EASING_TYPE = 'easeLinear';\nexport const DEFAULT_RANDOM_DRIFT_DELAY = 0.03;\nexport const PARTICLE_ALPHA_THRESHOLD = 0.002;\nexport const PARTICLE_LENGTH_SQ_THRESHOLD = 0.000004;\nexport const DEFAULT_CROSS_TYPE = 'dead';\n","import { DEFAULT_BEHAVIOUR_EASING, DEFAULT_LIFE } from './constants';\n\nimport { BEHAVIOUR_TYPE_ABSTRACT } from './types';\nimport { MEASURE } from '../constants';\nimport isNumber from 'lodash/isNumber';\nimport { uid } from '../utils';\n\n/**\n * The base behaviour class.\n * Behaviours manage a particle's behaviour after they have been emitted.\n *\n */\nexport default class Behaviour {\n  /**\n   * Constructs a Behaviour instance.\n   *\n   * @param {number} [life=Infinity] - The life of the behaviour\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   * @param {string} [type=BEHAVIOUR_TYPE_ABSTRACT] - The behaviour type\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(\n    life = Infinity,\n    easing = DEFAULT_BEHAVIOUR_EASING,\n    type = BEHAVIOUR_TYPE_ABSTRACT,\n    isEnabled = true\n  ) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if the behaviour will be applied or not\n     * @type {boolean}\n     */\n    this.isEnabled = isEnabled;\n\n    /**\n     * @desc The behaviour's id\n     * @type {string} id\n     */\n    this.id = `behaviour-${uid()}`;\n\n    /**\n     * @desc The life of the behaviour\n     * @type {number}\n     */\n    this.life = life;\n\n    /**\n     * @desc The behaviour's decaying trend\n     * @type {function}\n     */\n    this.easing = easing;\n\n    /**\n     * @desc The age of the behaviour\n     * @type {number}\n     */\n    this.age = 0;\n\n    /**\n     * @desc The energy of the behaviour\n     * @type {number}\n     */\n    this.energy = 1;\n\n    /**\n     * Determines if the behaviour is dead or not\n     * @type {boolean}\n     */\n    this.dead = false;\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @param {number} [life=DEFAULT_LIFE] - The life of the behaviour\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   */\n  reset(life = DEFAULT_LIFE, easing = DEFAULT_BEHAVIOUR_EASING) {\n    this.life = life;\n    this.easing = easing || DEFAULT_BEHAVIOUR_EASING;\n  }\n\n  /**\n   * Ensures that life is infinity if an invalid value is supplied.\n   *\n   * @return void\n   */\n  set life(life) {\n    this._life = isNumber(life) ? life : DEFAULT_LIFE;\n  }\n\n  /**\n   * Gets the behaviour's life.\n   *\n   * @return {Number}\n   */\n  get life() {\n    return this._life;\n  }\n\n  /**\n   * Normalize a force by 1:100;\n   *\n   * @param {Vector3D} force - The force to normalize.\n   * @return {Vector3D}\n   */\n  normalizeForce(force) {\n    return force.scalar(MEASURE);\n  }\n\n  /**\n   * Normalize a value by 1:100;\n   *\n   * @param {number} value - The value to normalize\n   * @return {number}\n   */\n  normalizeValue(value) {\n    return value * MEASURE;\n  }\n\n  /**\n   * Set the behaviour's initial properties on the particle.\n   *\n   * @param {Particle} particle\n   * @abstract\n   */\n  initialize(particle) {} // eslint-disable-line\n\n  /**\n   * Apply behaviour to the target as a factor of time.\n   * Internally calls the mutate method to change properties on the target\n   * Will not do so if the behaviour is disabled\n   *\n   * @abstract\n   * @param {Particle|Emitter} target - The particle or emitter to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @param {integer} index - the target index\n   * @return mixed\n   */\n  applyBehaviour(target, time, index) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this.mutate(target, time, index);\n  }\n\n  /**\n   * Change the target's properties according to specific behaviour logic.\n   *\n   * @abstract\n   * @param {Particle|Emitter} target - The particle or emitter to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @return mixed\n   */\n  mutate(target, time, index) {} // eslint-disable-line\n\n  /**\n   * Compares the age of the behaviour vs integration time and determines\n   * if the behaviour should be set to dead or not.\n   * Sets the behaviour energy as a factor of particle age and life.\n   *\n   * @param {Particle} particle - The particle to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @return void\n   */\n  energize(particle, time) {\n    if (this.dead) {\n      return;\n    }\n\n    this.age += time;\n\n    if (this.age >= this.life) {\n      this.energy = 0;\n      this.dead = true;\n\n      return;\n    }\n\n    const scale = this.easing(particle.age / particle.life);\n\n    this.energy = Math.max(1 - scale, 0);\n  }\n\n  /**\n   * Destory this behaviour.\n   *\n   * @abstract\n   */\n  destroy() {}\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @abstract\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Behaviour}\n   */\n  fromJSON(json) {} // eslint-disable-line\n}\n","import { MathUtils, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { PARTICLE_ALPHA_THRESHOLD } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ALPHA as type } from './types';\n\n/**\n * Behaviour that applies an alpha transition effect to particles.\n *\n */\nexport default class Alpha extends Behaviour {\n  /**\n   * Constructs an Alpha behaviour instance.\n   *\n   * @param {number} alphaA - The starting alpha value\n   * @param {?number} alphaB - The ending alpha value\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(alphaA = 1, alphaB = null, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    /**\n     * @desc The starting alpha value\n     * @type {number|Span}\n     */\n    this.alphaA = alphaA;\n\n    /**\n     * @desc The ending alpha value\n     * @type {number|Span}\n     */\n    this.alphaB = alphaB;\n\n    this.reset(alphaA, alphaB);\n  }\n\n  /**\n   * Gets the _same property which determines if the alpha are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the alpha are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} alphaA - the starting alpha value\n   * @param {?number} alphaB - the ending alpha value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(alphaA = 1, alphaB = null, life, easing) {\n    this.same = alphaB === null || alphaB === undefined ? true : false;\n    this.alphaA = createSpan(alphaA);\n    this.alphaB = createSpan(alphaB);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    particle.useAlpha = true;\n    particle.transform.alphaA = this.alphaA.getValue();\n\n    particle.transform.alphaB = this.same\n      ? particle.transform.alphaA\n      : this.alphaB.getValue();\n  }\n\n  /**\n   * Mutates the target's alpha/opacity property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.alpha = MathUtils.lerp(\n      particle.transform.alphaA,\n      particle.transform.alphaB,\n      this.energy\n    );\n\n    if (particle.alpha < PARTICLE_ALPHA_THRESHOLD) {\n      particle.alpha = 0;\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.alphaA - The starting alpha value\n   * @property {number} json.alphaB - The ending alpha value\n   * @property {number} json.life - The life of the behaviour\n   * @property {string} json.easing - The easing equation to use for transforms\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { alphaA, alphaB, life, easing, isEnabled = true } = json;\n\n    return new Alpha(alphaA, alphaB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import {\n  DEFAULT_ATTRACITON_RADIUS,\n  DEFAULT_ATTRACTION_FORCE_SCALAR,\n  DEFAULT_BEHAVIOUR_EASING,\n  DEFAULT_LIFE,\n  PARTICLE_LENGTH_SQ_THRESHOLD,\n} from './constants';\n\nimport Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ATTRACTION as type } from './types';\n\n/**\n * Behaviour that causes particles to be attracted to a target position.\n *\n */\nexport default class Attraction extends Behaviour {\n  /**\n   * Constructs an Attraction behaviour instance.\n   *\n   * @param {Vector3D} targetPosition - The position the particles will be attracted to\n   * @param {number} force - The attraction force scalar multiplier\n   * @param {number} radius - The attraction radius\n   * @param {number} [life=DEFAULT_LIFE] - The life of the particle\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(\n    targetPosition = new Vector3D(),\n    force = DEFAULT_ATTRACTION_FORCE_SCALAR,\n    radius = DEFAULT_ATTRACITON_RADIUS,\n    life = DEFAULT_LIFE,\n    easing = DEFAULT_BEHAVIOUR_EASING,\n    isEnabled = true\n  ) {\n    super(life, easing, type, isEnabled);\n\n    /**\n     * @desc The position the particles will be attracted to\n     * @type {Vector3D}\n     */\n    this.targetPosition = targetPosition;\n\n    /**\n     * @desc The attraction radius\n     * @type {number} - the attraction radius\n     */\n    this.radius = radius;\n\n    /**\n     * @desc The attraction force scalar multiplier\n     * @type {number}\n     */\n    this.force = this.normalizeValue(force);\n\n    /**\n     * @desc The radius of the attraction squared\n     * @type {number}\n     */\n    this.radiusSq = this.radius * this.radius;\n\n    /**\n     * @desc The attraction force in 3D space\n     * @type {Vector3D}\n     */\n    this.attractionForce = new Vector3D();\n\n    /**\n     * @desc The linear attraction force\n     * @type {number}\n     */\n    this.lengthSq = 0;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Vector3D} targetPosition - the position the particles will be attracted to\n   * @param {number} force - the attraction force multiplier\n   * @param {number} radius - the attraction radius\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(\n    targetPosition = new Vector3D(),\n    force = DEFAULT_ATTRACTION_FORCE_SCALAR,\n    radius = DEFAULT_ATTRACITON_RADIUS,\n    life,\n    easing\n  ) {\n    this.targetPosition = targetPosition;\n    this.radius = radius;\n    this.force = this.normalizeValue(force);\n    this.radiusSq = this.radius * this.radius;\n    this.attractionForce = new Vector3D();\n    this.lengthSq = 0;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Mutates particle acceleration.\n   *\n   * @param {Particle} particle - the particle to apply the behaviour to\n   * @param {number} time - particle engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.attractionForce.copy(this.targetPosition);\n    this.attractionForce.sub(particle.position);\n\n    this.lengthSq = this.attractionForce.lengthSq();\n\n    if (\n      this.lengthSq > PARTICLE_LENGTH_SQ_THRESHOLD &&\n      this.lengthSq < this.radiusSq\n    ) {\n      this.attractionForce.normalize();\n      this.attractionForce.scalar(1 - this.lengthSq / this.radiusSq);\n      this.attractionForce.scalar(this.force);\n\n      particle.acceleration.add(this.attractionForce);\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.x - The target position x value\n   * @property {number} json.y - The target position y value\n   * @property {number} json.z - The target position z value\n   * @property {number} json.force - The attraction force scalar multiplier\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { x, y, z, force, radius, life, easing, isEnabled = true } = json;\n\n    return new Attraction(\n      new Vector3D(x, y, z),\n      force,\n      radius,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { BEHAVIOUR_TYPE_COLLISION as type } from './types';\n\n/**\n * Behaviour that causes particles to move away from other particles they collide with.\n */\nexport default class Collision extends Behaviour {\n  /**\n   * Constructs a Collision behaviour instance.\n   *\n   * @param {Emitter} emitter - The emitter containing the particles to detect collisions against\n   * @param {boolean} useMass - Determiens whether to use mass or not\n   * @param {function} onCollide - Function to call when particles collide\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(emitter, useMass, onCollide, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(emitter, useMass, onCollide);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Emitter} emitter - The emitter containing the particles to detect collisions against\n   * @param {boolean} useMass - Determiens whether to use mass or not\n   * @param {function} onCollide - Function to call when particles collide\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(emitter, useMass, onCollide, life, easing) {\n    this.emitter = emitter;\n    this.useMass = useMass;\n    this.onCollide = onCollide;\n    this.particles = [];\n    this.delta = new Vector3D();\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Detects collisions with other particles and calls the\n   * onCollide function on colliding particles.\n   *\n   * @param {Particle} particle - the particle to apply the behaviour to\n   * @param {number} time - particle engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    const particles = this.emitter\n      ? this.emitter.particles.slice(index)\n      : this.particles.slice(index);\n    let otherParticle, lengthSq, overlap, distance, averageMass1, averageMass2;\n    let i = particles.length;\n\n    while (i--) {\n      otherParticle = particles[i];\n\n      if (otherParticle == particle) {\n        continue;\n      }\n\n      this.delta.copy(otherParticle.position).sub(particle.position);\n\n      lengthSq = this.delta.lengthSq();\n      distance = particle.radius + otherParticle.radius;\n\n      if (lengthSq <= distance * distance) {\n        overlap = distance - Math.sqrt(lengthSq);\n        overlap += 0.5;\n\n        averageMass1 = this._getAverageMass(particle, otherParticle);\n        averageMass2 = this._getAverageMass(otherParticle, particle);\n\n        particle.position.add(\n          this.delta\n            .clone()\n            .normalize()\n            .scalar(overlap * -averageMass1)\n        );\n\n        otherParticle.position.add(\n          this.delta.normalize().scalar(overlap * averageMass2)\n        );\n\n        this.onCollide && this.onCollide(particle, otherParticle);\n      }\n    }\n  }\n\n  /**\n   * Gets the average mass of both particles.\n   *\n   * @param {Particle} particleA - The first particle\n   * @param {Particle} particleB - The second particle\n   * @return {number}\n   */\n  _getAverageMass(particleA, particleB) {\n    return this.useMass\n      ? particleB.mass / (particleA.mass + particleB.mass)\n      : 0.5;\n  }\n\n  // TODO\n  fromJSON(json) {} // eslint-disable-line\n}\n","import { MathUtils, createColorSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { ColorUtil } from '../utils';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_COLOR as type } from './types';\n\n/**\n * A behaviour which mutates the color of a particle over time.\n *\n */\nexport default class Color extends Behaviour {\n  /**\n   * Constructs a Color behaviour instance.\n   *\n   * @param {number|string} colorA - the starting color\n   * @param {number|string} colorB - the ending color\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(colorA, colorB, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(colorA, colorB);\n  }\n\n  /**\n   * Gets the _same property which determines if the alpha are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the alpha are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  reset(colorA, colorB, life, easing) {\n    this.same = colorB === null || colorB === undefined ? true : false;\n\n    this.colorA = createColorSpan(colorA);\n    this.colorB = createColorSpan(colorB);\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    particle.transform.colorA = ColorUtil.getRGB(this.colorA.getValue());\n\n    particle.useColor = true;\n    particle.transform.colorB = this.same\n      ? particle.transform.colorA\n      : ColorUtil.getRGB(this.colorB.getValue());\n  }\n\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    if (!this._same) {\n      particle.color.r = MathUtils.lerp(\n        particle.transform.colorA.r,\n        particle.transform.colorB.r,\n        this.energy\n      );\n      particle.color.g = MathUtils.lerp(\n        particle.transform.colorA.g,\n        particle.transform.colorB.g,\n        this.energy\n      );\n      particle.color.b = MathUtils.lerp(\n        particle.transform.colorA.b,\n        particle.transform.colorB.b,\n        this.energy\n      );\n    } else {\n      particle.color.r = particle.transform.colorA.r;\n      particle.color.g = particle.transform.colorA.g;\n      particle.color.b = particle.transform.colorA.b;\n    }\n  }\n\n  /**\n   * Creates a Color initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.colorA - The starting color\n   * @property {number} json.colorB - The ending color\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Color}\n   */\n  static fromJSON(json) {\n    const { colorA, colorB, life, easing, isEnabled = true } = json;\n\n    return new Color(colorA, colorB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import * as Zone from '../zone';\n\nimport Behaviour from './Behaviour';\nimport { DEFAULT_CROSS_TYPE } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_CROSS_ZONE as type } from './types';\n\n/**\n * Behaviour that allows for specific functions to be called on particles when\n * they interact with a zone.\n *\n */\nexport default class CrossZone extends Behaviour {\n  /**\n   * Constructs a CrossZone behaviour instance.\n   *\n   * @param {Zone} zone - the zone used to apply to particles with this behaviour\n   * @param {string} [crossType=DEFAULT_CROSS_TYPE] - enum of cross types, valid strings include 'dead', 'bound', 'cross'\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   */\n  constructor(zone, crossType, life, easing, isEnabled) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(zone, crossType);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Zone} zone - the zone used to apply to particles with this behaviour\n   * @param {string} [crossType=DEFAULT_CROSS_TYPE] - enum of cross types, valid strings include 'dead', 'bound', 'cross'\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   */\n  reset(zone, crossType = DEFAULT_CROSS_TYPE, life, easing) {\n    /**\n     * @desc The zone used to apply to particles with this behaviour\n     * @type {Zone}\n     */\n    this.zone = zone;\n    this.zone.crossType = crossType;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   *\n   * @see {@link '../zone/Zone.js'} crossing\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.zone.crossing.call(this.zone, particle);\n  }\n\n  /**\n   * Creates a CrossZone initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @return {CrossZone}\n   */\n  static fromJSON(json) {\n    const {\n      zoneType,\n      zoneParams,\n      crossType,\n      life,\n      easing,\n      isEnabled = true,\n    } = json;\n\n    const zone = new Zone[zoneType](...Object.values(zoneParams));\n\n    return new CrossZone(\n      zone,\n      crossType,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_FORCE as type } from './types';\n/**\n * Behaviour that forces particles along a specific axis.\n *\n */\nexport default class Force extends Behaviour {\n  /**\n   * Constructs a Force behaviour instance.\n   *\n   * @param {number} fx - the x axis force\n   * @param {number} fy - the y axis force\n   * @param {number} fz - the z axis force\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(fx, fy, fz, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(fx, fy, fz);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} fx - the x axis force\n   * @param {number} fy - the y axis force\n   * @param {number} fz - the z axis force\n   */\n  reset(fx, fy, fz) {\n    /**\n     * @desc The normalized force to exert on the particle in\n     * @type {Vector3D}\n     */\n    this.force = this.normalizeForce(new Vector3D(fx, fy, fz));\n\n    /**\n     * @desc The id of the force vector\n     * @property {number} this.force.id\n     */\n    this.force.id = Math.random();\n  }\n\n  /**\n   * Mutates the particle.acceleration property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.acceleration.add(this.force);\n  }\n\n  /**\n   * Creates a Force initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @return {Force}\n   */\n  static fromJSON(json) {\n    const { fx, fy, fz, life, easing, isEnabled = true } = json;\n\n    return new Force(fx, fy, fz, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import Force from './Force';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_GRAVITY as type } from './types';\n\n/**\n * Behaviour that forces particles down the y axis.\n *\n */\nexport default class Gravity extends Force {\n  /**\n   * Constructs a Gravity behaviour instance.\n   *\n   * @param {number} gravity - the force to pull the particle down the y axis\n   * @param {number} life - the life of the particle\n   * @param {string} easing - the easing equation to use\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(gravity, life, easing, isEnabled = true) {\n    super(0, -gravity, 0, life, easing, isEnabled);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  static fromJSON(json) {\n    const { gravity, life, easing, isEnabled = true } = json;\n\n    return new Gravity(gravity, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import { MathUtils, Vector3D, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { DEFAULT_RANDOM_DRIFT_DELAY } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_RANDOM_DRIFT as type } from './types';\n\n/**\n * Behaviour that causes particles to drift to random coordinates in 3D space.\n *\n */\nexport default class RandomDrift extends Behaviour {\n  /**\n   * Constructs a RandomDrift behaviour instance.\n   *\n   * @param {number} driftX - x axis drift\n   * @param {number} driftY - y axis drift\n   * @param {number} driftZ - z axis drift\n   * @param {number} [delay=DEFAULT_RANDOM_DRIFT_DELAY] - drift delay\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  constructor(\n    driftX,\n    driftY,\n    driftZ,\n    delay = DEFAULT_RANDOM_DRIFT_DELAY,\n    life,\n    easing,\n    isEnabled = true\n  ) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(driftX, driftY, driftZ, delay);\n\n    /**\n     * @desc Internal time used for calculating drift vs internal delay.\n     * @type {number}\n     */\n    this.time = 0;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} driftX - x axis drift\n   * @param {number} driftY - y axis drift\n   * @param {number} driftZ - z axis drift\n   * @param {number} [delay=DEFAULT_RANDOM_DRIFT_DELAY] - drift delay\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   */\n  reset(\n    driftX,\n    driftY,\n    driftZ,\n    delay = DEFAULT_RANDOM_DRIFT_DELAY,\n    life,\n    easing\n  ) {\n    /**\n     * @desc A Vector3D that stores the drift properties.\n     * @type {Vector3D}\n     */\n    this.randomForce = this.normalizeForce(\n      new Vector3D(driftX, driftY, driftZ)\n    );\n    /**\n     * @desc A Span containing the delay supplied.\n     * @type {Span}\n     */\n    this.delayPan = createSpan(delay);\n    this.time = 0;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Mutates the particle.acceleration property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.time += time;\n\n    if (this.time >= this.delayPan.getValue()) {\n      const ax = MathUtils.randomAToB(-this.randomForce.x, this.randomForce.x);\n      const ay = MathUtils.randomAToB(-this.randomForce.y, this.randomForce.y);\n      const az = MathUtils.randomAToB(-this.randomForce.z, this.randomForce.z);\n\n      particle.acceleration.addValue(ax, ay, az);\n\n      this.time = 0;\n    }\n  }\n\n  static fromJSON(json) {\n    const { x, y, z, delay, life, easing, isEnabled = true } = json;\n\n    return new RandomDrift(\n      x,\n      y,\n      z,\n      delay,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import Attraction from './Attraction';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_REPULSION as type } from './types';\n/**\n * Behaviour that causes particles to be repelled from a target position.\n *\n */\nexport default class Repulsion extends Attraction {\n  /**\n   * Constructs an Repulsion behaviour instance.\n   *\n   * @param {Vector3D} targetPosition - The position the particles will be repelled from\n   * @param {number} force - The repulsion force scalar multiplier\n   * @param {number} radius - The repulsion radius\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  constructor(targetPosition, force, radius, life, easing, isEnabled = true) {\n    super(targetPosition, force, radius, life, easing, isEnabled);\n\n    /**\n     * @desc Repulsion is attraction with negative force.\n     * @type {number}\n     */\n    this.force *= -1;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Vector3D} targetPosition - the position the particles will be attracted to\n   * @param {number} force - the attraction force multiplier\n   * @param {number} radius - the attraction radius\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(targetPosition, force, radius, life, easing) {\n    super.reset(targetPosition, force, radius, life, easing);\n    this.force *= -1;\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.x - The target position x value\n   * @property {number} json.y - The target position y value\n   * @property {number} json.z - The target position z value\n   * @property {number} json.force - The attraction force scalar multiplier\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { x, y, z, force, radius, life, easing, isEnabled = true } = json;\n\n    return new Repulsion(\n      new Vector3D(x, y, z),\n      force,\n      radius,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import { DR, PI } from '../constants';\nimport { MathUtils, Vector3D, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ROTATE as type } from './types';\n\n/**\n * Behaviour that rotates particles.\n */\nexport default class Rotate extends Behaviour {\n  /**\n   * Constructs a Rotate behaviour instance.\n   *\n   * @param {number} x - X axis rotation\n   * @param {number} y - Y axis rotation\n   * @param {number} z - Z axis rotation\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(x, y, z, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(x, y, z);\n  }\n\n  /**\n   * Gets the rotation type.\n   *\n   * @return {string}\n   */\n  get rotationType() {\n    return this._rotationType;\n  }\n\n  /**\n   * Sets the rotation type.\n   *\n   * @param {string}\n   * @return void\n   */\n  set rotationType(rotationType) {\n    /**\n     * @desc The rotation type. ENUM of ['same', 'set', 'to', 'add'].\n     * @type {string}\n     */\n    this._rotationType = rotationType;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} x - X axis rotation\n   * @param {number} y - Y axis rotation\n   * @param {number} z - Z axis rotation\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(x, y, z, life, easing) {\n    /**\n     * @desc X axis rotation.\n     * @type {number|Span}\n     */\n    this.x = x || 0;\n\n    /**\n     * @desc Y axis rotation.\n     * @type {number|Span}\n     */\n    this.y = y || 0;\n\n    /**\n     * @desc Z axis rotation.\n     * @type {number|Span}\n     */\n    this.z = z || 0;\n\n    if (x === undefined || x == 'same') {\n      this.rotationType = 'same';\n    } else if (y == undefined) {\n      this.rotationType = 'set';\n    } else if (z === undefined) {\n      this.rotationType = 'to';\n    } else {\n      this.rotationType = 'add';\n      this.x = createSpan(this.x * DR);\n      this.y = createSpan(this.y * DR);\n      this.z = createSpan(this.z * DR);\n    }\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    switch (this.rotationType) {\n      case 'same':\n        break;\n\n      case 'set':\n        this._setRotation(particle.rotation, this.x);\n        break;\n\n      case 'to':\n        particle.transform.fR = particle.transform.fR || new Vector3D();\n        particle.transform.tR = particle.transform.tR || new Vector3D();\n        this._setRotation(particle.transform.fR, this.x);\n        this._setRotation(particle.transform.tR, this.y);\n        break;\n\n      case 'add':\n        particle.transform.addR = new Vector3D(\n          this.x.getValue(),\n          this.y.getValue(),\n          this.z.getValue()\n        );\n        break;\n    }\n  }\n\n  /**\n   * Sets the particle's rotation prior to the behaviour being applied.\n   *\n   * NOTE It's hard to see here, but this is mutating the particle's rotation\n   * even though the particle is not being passed in directly.\n   *\n   * NOTE the else if below will never be reached because the value being passed in\n   * will never be of type Vector3D.\n   *\n   * @param {Vector3D} particleRotation - the particle's rotation vector\n   * @param {string|number} value - the value to set the rotation value to, if 'random'\n   * rotation is randomised\n   * @return void\n   */\n  _setRotation(particleRotation, value) {\n    particleRotation = particleRotation || new Vector3D();\n    if (value == 'random') {\n      var x = MathUtils.randomAToB(-PI, PI);\n      var y = MathUtils.randomAToB(-PI, PI);\n      var z = MathUtils.randomAToB(-PI, PI);\n\n      particleRotation.set(x, y, z);\n    }\n    // we can't ever get here because value will never be a Vector3D!\n    // consider refactoring to\n    //  if (value instance of Span) { vec3.add(value.getValue()); }\n    else if (value instanceof Vector3D) {\n      particleRotation.copy(value);\n    }\n  }\n\n  /**\n   * Mutates the particle.rotation property.\n   *\n   * @see http://stackoverflow.com/questions/21622956/how-to-convert-direction-vector-to-euler-angles\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    switch (this.rotationType) {\n      // orients the particle in the direction it is moving\n      case 'same':\n        if (!particle.rotation) {\n          particle.rotation = new Vector3D();\n        }\n\n        particle.rotation.eulerFromDir(particle.velocity);\n        break;\n\n      case 'set':\n        //\n        break;\n\n      case 'to':\n        particle.rotation.x = MathUtils.lerp(\n          particle.transform.fR.x,\n          particle.transform.tR.x,\n          this.energy\n        );\n        particle.rotation.y = MathUtils.lerp(\n          particle.transform.fR.y,\n          particle.transform.tR.y,\n          this.energy\n        );\n        particle.rotation.z = MathUtils.lerp(\n          particle.transform.fR.z,\n          particle.transform.tR.z,\n          this.energy\n        );\n        break;\n\n      case 'add':\n        particle.rotation.add(particle.transform.addR);\n        break;\n    }\n  }\n\n  static fromJSON(json) {\n    const { x, y, z, life, easing, isEnabled = true } = json;\n\n    return new Rotate(x, y, z, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import { MathUtils, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_SCALE as type } from './types';\n\n/**\n * Behaviour that scales particles.\n *\n */\nexport default class Scale extends Behaviour {\n  /**\n   * Constructs a Scale behaviour instance.\n   *\n   * @param {number} scaleA - the starting scale value\n   * @param {?number} scaleB - the ending scale value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(scaleA, scaleB, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(scaleA, scaleB);\n  }\n\n  /**\n   * Gets the _same property which determines if the scale props are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the scale props are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} scaleA - the starting scale value\n   * @param {?number} scaleB - the ending scale value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(scaleA, scaleB, life, easing) {\n    this.same = scaleB === null || scaleB === undefined ? true : false;\n\n    /**\n     * @desc The starting scale.\n     * @type {Span}\n     */\n    this.scaleA = createSpan(scaleA || 1);\n\n    /**\n     * @desc The ending scale.\n     * @type {Span}\n     */\n    this.scaleB = createSpan(scaleB);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   * Stores initial values for comparison and mutation in the applyBehaviour method.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    particle.transform.scaleA = this.scaleA.getValue();\n    particle.transform.oldRadius = particle.radius;\n\n    particle.transform.scaleB = this.same\n      ? particle.transform.scaleA\n      : this.scaleB.getValue();\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   * Mutates the particle's scale and its radius according to this scale.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.scale = MathUtils.lerp(\n      particle.transform.scaleA,\n      particle.transform.scaleB,\n      this.energy\n    );\n\n    if (particle.scale < 0.0005) {\n      particle.scale = 0;\n    }\n\n    particle.radius = particle.transform.oldRadius * particle.scale;\n  }\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Spring}\n   */\n  static fromJSON(json) {\n    const { scaleA, scaleB, life, easing, isEnabled = true } = json;\n\n    return new Scale(scaleA, scaleB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_SPRING as type } from './types';\n\n/**\n * Behaviour that causes particles to spring.\n *\n */\nexport default class Spring extends Behaviour {\n  /**\n   * Constructs a Spring behaviour instance.\n   *\n   * @param {number} x - X axis spring\n   * @param {number} y - Y axis spring\n   * @param {number} z - Z axis spring\n   * @param {number} spring - Spring factor\n   * @param {number} friction - Spring friction\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(x, y, z, spring, friction, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(x, y, z, spring, friction);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} x - X axis spring\n   * @param {number} y - Y axis spring\n   * @param {number} z - Z axis spring\n   * @param {number} spring - Spring factor\n   * @param {number} friction - Spring friction\n   * @return void\n   */\n  reset(x, y, z, spring, friction) {\n    if (!this.pos) {\n      this.pos = new Vector3D(x, y, z);\n    } else {\n      this.pos.set(x, y, z);\n    }\n\n    this.spring = spring || 0.1;\n    this.friction = friction || 0.98;\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   * Mutates the particle's velocity according to this.pos and this.spring.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.velocity.x += (this.pos.x - particle.position.x) * this.spring;\n    particle.velocity.y += (this.pos.y - particle.position.y) * this.spring;\n    particle.velocity.z += (this.pos.z - particle.position.z) * this.spring;\n  }\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Spring}\n   */\n  static fromJSON(json) {\n    const { x, y, z, spring, friction, life, easing, isEnabled = true } = json;\n\n    return new Spring(\n      x,\n      y,\n      z,\n      spring,\n      friction,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import * as Behaviour from '../behaviour';\nimport * as Initializer from '../initializer';\n\nimport { EULER, POOL_MAX } from '../constants';\nimport {\n  INITIALIZER_TYPES_THAT_REQUIRE_THREE,\n  SUPPORTED_JSON_BEHAVIOUR_TYPES,\n  SUPPORTED_JSON_INITIALIZER_TYPES,\n} from './constants';\n\nimport Rate from '../initializer/Rate';\n\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\nconst makeRate = json => new Rate.fromJSON(json);\n\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\nconst makeInitializers = (items, THREE) => {\n  const initializers = [];\n\n  items.forEach(data => {\n    const { type, properties } = data;\n\n    if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n      throw new Error(\n        `The initializer type ${type} is invalid or not yet supported`\n      );\n    }\n\n    if (INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n      initializers.push(new Initializer[type].fromJSON(properties, THREE));\n    } else {\n      initializers.push(new Initializer[type].fromJSON(properties));\n    }\n  });\n\n  return initializers;\n};\n\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {array<Behaviour>}\n */\nconst makeBehaviours = items => {\n  const behaviours = [];\n\n  items.forEach(data => {\n    const { type, properties } = data;\n\n    if (!SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n      throw new Error(\n        `The behaviour type ${type} is invalid or not yet supported`\n      );\n    }\n\n    behaviours.push(new Behaviour[type].fromJSON(properties));\n  });\n\n  return behaviours;\n};\n\n/**\n * Creates a System instance from a JSON object.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @return {System}\n */\nexport default (json, THREE, System, Emitter) => {\n  const {\n    preParticles = POOL_MAX,\n    integrationType = EULER,\n    emitters = [],\n  } = json;\n  const system = new System(THREE, preParticles, integrationType);\n\n  emitters.forEach(data => {\n    const emitter = new Emitter();\n    const {\n      rate,\n      rotation,\n      initializers,\n      behaviours,\n      emitterBehaviours = [],\n      position,\n      totalEmitTimes = Infinity,\n      life = Infinity,\n    } = data;\n\n    emitter\n      .setRate(makeRate(rate))\n      .setRotation(rotation)\n      .setInitializers(makeInitializers(initializers, THREE))\n      .setBehaviours(makeBehaviours(behaviours))\n      .setEmitterBehaviours(makeBehaviours(emitterBehaviours))\n      .setPosition(position)\n      .emit(totalEmitTimes, life);\n\n    system.addEmitter(emitter);\n  });\n\n  return system;\n};\n","import * as Behaviour from '../behaviour';\nimport * as Initializer from '../initializer';\n\nimport { EULER, POOL_MAX } from '../constants';\nimport {\n  INITIALIZER_TYPES_THAT_REQUIRE_THREE,\n  SUPPORTED_JSON_BEHAVIOUR_TYPES,\n  SUPPORTED_JSON_INITIALIZER_TYPES,\n} from './constants';\n\nimport Rate from '../initializer/Rate';\nimport TextureInitializer from '../initializer/Texture';\n\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\nconst makeRate = json => new Rate.fromJSON(json);\n\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\nconst makeInitializers = (items, THREE) =>\n  new Promise((resolve, reject) => {\n    if (!items.length) {\n      return resolve([]);\n    }\n\n    const numberOfInitializers = items.length;\n    const madeInitializers = [];\n    const doNotRequireTextureLoading = items.filter(\n      ({ properties }) => !properties.texture\n    );\n    const doRequireTextureLoading = items.filter(\n      ({ properties }) => properties.texture\n    );\n\n    doNotRequireTextureLoading.forEach(data => {\n      const { type, properties } = data;\n\n      if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n        return reject(\n          `The initializer type ${type} is invalid or not yet supported`\n        );\n      }\n\n      if (INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n        madeInitializers.push(\n          new Initializer[type].fromJSON(properties, THREE)\n        );\n      } else {\n        madeInitializers.push(new Initializer[type].fromJSON(properties));\n      }\n\n      if (madeInitializers.length === numberOfInitializers) {\n        return resolve(madeInitializers);\n      }\n    });\n\n    doRequireTextureLoading.forEach(data => {\n      const {\n        type,\n        properties,\n        properties: { texture },\n      } = data;\n      const textureLoader = new THREE.TextureLoader();\n\n      if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n        return reject(\n          `The initializer type ${type} is invalid or not yet supported`\n        );\n      }\n\n      textureLoader.load(\n        texture,\n        loadedTexture => {\n          madeInitializers.push(\n            new TextureInitializer.fromJSON(\n              {\n                ...properties,\n                loadedTexture,\n              },\n              THREE\n            )\n          );\n\n          if (madeInitializers.length === numberOfInitializers) {\n            return resolve(madeInitializers);\n          }\n        },\n        undefined,\n        reject\n      );\n    });\n  });\n\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {Promise<array>}\n */\nconst makeBehaviours = items =>\n  new Promise((resolve, reject) => {\n    if (!items.length) {\n      return resolve([]);\n    }\n\n    const numberOfBehaviours = items.length;\n    const madeBehaviours = [];\n\n    items.forEach(data => {\n      const { type, properties } = data;\n\n      if (!SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n        return reject(\n          `The behaviour type ${type} is invalid or not yet supported`\n        );\n      }\n\n      madeBehaviours.push(new Behaviour[type].fromJSON(properties));\n\n      if (madeBehaviours.length === numberOfBehaviours) {\n        return resolve(madeBehaviours);\n      }\n    });\n  });\n\nconst makeEmitters = (emitters, Emitter, THREE) =>\n  new Promise((resolve, reject) => {\n    if (!emitters.length) {\n      return resolve([]);\n    }\n\n    const madeEmitters = [];\n    const numberOfEmitters = emitters.length;\n\n    if (!numberOfEmitters) {\n      return resolve(madeEmitters);\n    }\n\n    emitters.forEach(data => {\n      const emitter = new Emitter();\n      const {\n        rate,\n        rotation,\n        initializers,\n        behaviours,\n        emitterBehaviours = [],\n        position,\n        totalEmitTimes = Infinity,\n        life = Infinity,\n      } = data;\n\n      emitter\n        .setRate(makeRate(rate))\n        .setRotation(rotation)\n        .setPosition(position);\n\n      makeInitializers(initializers, THREE)\n        .then(madeInitializers => {\n          emitter.setInitializers(madeInitializers);\n\n          return makeBehaviours(behaviours);\n        })\n        .then(madeBehaviours => {\n          emitter.setBehaviours(madeBehaviours);\n\n          return makeBehaviours(emitterBehaviours);\n        })\n        .then(madeEmitterBehaviours => {\n          emitter.setEmitterBehaviours(madeEmitterBehaviours);\n\n          return Promise.resolve(emitter);\n        })\n        .then(emitter => {\n          madeEmitters.push(emitter.emit(totalEmitTimes, life));\n\n          if (madeEmitters.length === numberOfEmitters) {\n            return resolve(madeEmitters);\n          }\n        })\n        .catch(reject);\n    });\n  });\n\n/**\n * Creates a System instance from a JSON object.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @return {Promise<System>}\n */\nexport default (json, THREE, System, Emitter) =>\n  new Promise((resolve, reject) => {\n    const {\n      preParticles = POOL_MAX,\n      integrationType = EULER,\n      emitters = [],\n    } = json;\n    const system = new System(preParticles, integrationType);\n\n    makeEmitters(emitters, Emitter, THREE)\n      .then(madeEmitters => {\n        const numberOfEmitters = madeEmitters.length;\n\n        if (!numberOfEmitters) {\n          return resolve(system);\n        }\n\n        madeEmitters.forEach(madeEmitter => {\n          system.addEmitter(madeEmitter);\n\n          if (system.emitters.length === numberOfEmitters) {\n            resolve(system);\n          }\n        });\n      })\n      .catch(reject);\n  });\n","import EventDispatcher, {\n  EMITTER_ADDED,\n  EMITTER_REMOVED,\n  SYSTEM_UPDATE,\n  SYSTEM_UPDATE_AFTER,\n} from '../events';\n\nimport { DEFAULT_SYSTEM_DELTA } from './constants';\nimport Emitter from '../emitter/Emitter';\nimport { INTEGRATION_TYPE_EULER } from '../math/constants';\nimport { POOL_MAX } from '../constants';\nimport Pool from './Pool';\nimport fromJSON from './fromJSON';\nimport fromJSONAsync from './fromJSONAsync';\nimport { CORE_TYPE_SYSTEM as type } from './types';\n\n/**\n * The core of the three-system particle engine.\n * A System instance can contain multiple emitters, each with their own initializers\n * and behaviours.\n *\n */\nexport default class System {\n  /**\n   * Constructs a System instance.\n   *\n   * @param {object} THREE - ThreeJs\n   * @param {number} [preParticles=POOL_MAX] - The number of particles to start with\n   * @param {string} [integrationType=INTEGRATION_TYPE_EULER] - The integration type to use\n   * @return void\n   */\n  constructor(\n    preParticles = POOL_MAX,\n    integrationType = INTEGRATION_TYPE_EULER\n  ) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if the system can update or not. Set to false when destroying\n     * to ensure that external calls to update do not throw errors.\n     * @type {boolean}\n     */\n    this.canUpdate = true;\n\n    /**\n     * @desc The number of particles to start with.\n     * @type {number}\n     */\n    this.preParticles = preParticles;\n\n    /**\n     * @desc The integration algorithm type to use.\n     * @param {string}\n     */\n    this.integrationType = integrationType;\n\n    /**\n     * @desc The emitters in the particle system.\n     * @type {array<Emitter>}\n     */\n    this.emitters = [];\n\n    /**\n     * @desc The renderers for the system.\n     * @type {array<Renderer>}\n     */\n    this.renderers = [];\n\n    /**\n     * @desc A pool used to manage the internal system cache of objects\n     * @type {Pool}\n     */\n    this.pool = new Pool();\n\n    /**\n     * @desc Internal event dispatcher\n     * @type {EventDispatcher}\n     */\n    this.eventDispatcher = new EventDispatcher();\n  }\n\n  /**\n   * Creates a System instance from a JSON object.\n   *\n   * @param {object} json - The JSON to create the System instance from\n   * @param {object} THREE - The Web GL Api to use eg., THREE\n   * @return {System}\n   *\n   * @deprecated use fromJSONAsync instead\n   */\n  static fromJSON(json, THREE) {\n    return fromJSON(json, THREE, System, Emitter);\n  }\n\n  /**\n   * Loads a System instance from JSON asynchronously. Ensures all textures are\n   * fully loaded before resolving with the instantiated System instance.\n   *\n   * @param {object} json - The JSON to create the System instance from\n   * @param {object} THREE - The Web GL Api to use eg., THREE\n   * @return {Promise<System>}\n   */\n  static fromJSONAsync(json, THREE) {\n    return fromJSONAsync(json, THREE, System, Emitter);\n  }\n\n  /**\n   * Proxy method for the internal event dispatcher's dispatchEvent method.\n   *\n   * @param {string} event - The event to dispatch\n   * @param {object<System|Emitter|Particle>} [target=this] - The event target\n   */\n  dispatch(event, target = this) {\n    this.eventDispatcher.dispatchEvent(event, target);\n  }\n\n  /**\n   * Adds a renderer to the System instance and initializes it.\n   *\n   * @param {Renderer} renderer - The renderer to add\n   * @return {System}\n   */\n  addRenderer(renderer) {\n    this.renderers.push(renderer);\n    renderer.init(this);\n\n    return this;\n  }\n\n  /**\n   * Removes a renderer from the System instance.\n   *\n   * @param {Renderer} renderer\n   * @return {System}\n   */\n  removeRenderer(renderer) {\n    this.renderers.splice(this.renderers.indexOf(renderer), 1);\n    renderer.remove(this);\n\n    return this;\n  }\n\n  /**\n   * Adds an emitter to the System instance.\n   * Dispatches the EMITTER_ADDED event.\n   *\n   * @param {Emitter} emitter - The emitter to add\n   * @return {System}\n   */\n  addEmitter(emitter) {\n    emitter.parent = this;\n\n    this.emitters.push(emitter);\n    this.dispatch(EMITTER_ADDED, emitter);\n\n    return this;\n  }\n\n  /**\n   * Removes an emitter from the System instance.\n   * Dispatches the EMITTER_REMOVED event.\n   *\n   * @param {Emitter} emitter - The emitter to remove\n   * @return {System}\n   */\n  removeEmitter(emitter) {\n    if (emitter.parent !== this) {\n      return this;\n    }\n\n    emitter.parent = null;\n\n    this.emitters.splice(this.emitters.indexOf(emitter), 1);\n    this.dispatch(EMITTER_REMOVED, emitter);\n\n    return this;\n  }\n\n  /**\n   * Updates the particle system based on the delta passed.\n   *\n   * @example\n   * animate = () => {\n   *   threeRenderer.render(threeScene, threeCamera);\n   *   system.update();\n   *   requestAnimationFrame(animate);\n   * }\n   * animate();\n   *\n   * @param {number} delta - Delta time\n   * @return {Promise}\n   */\n  update(delta = DEFAULT_SYSTEM_DELTA) {\n    const d = delta || DEFAULT_SYSTEM_DELTA;\n\n    if (this.canUpdate) {\n      this.dispatch(SYSTEM_UPDATE);\n\n      if (d > 0) {\n        let i = this.emitters.length;\n\n        while (i--) {\n          this.emitters[i].update(d);\n        }\n      }\n\n      this.dispatch(SYSTEM_UPDATE_AFTER);\n    }\n\n    return Promise.resolve();\n  }\n\n  /**\n   * Gets a count of the total number of particles in the system.\n   *\n   * @return {integer}\n   */\n  getCount() {\n    const length = this.emitters.length;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      total += this.emitters[i].particles.length;\n    }\n\n    return total;\n  }\n\n  /**\n   * Destroys all emitters and the Proton pool.\n   * Ensures that this.update will not perform any operations while the system\n   * is being destroyed.\n   *\n   * @return void\n   */\n  destroy() {\n    const length = this.emitters.length;\n\n    this.canUpdate = false;\n\n    for (let i = 0; i < length; i++) {\n      this.emitters[i] && this.emitters[i].destroy();\n      delete this.emitters[i];\n    }\n\n    this.emitters.length = 0;\n    this.pool.destroy();\n    this.canUpdate = true;\n  }\n}\n","import { DEFAULT_POSITION, DEFAULT_SIZE as size } from './constants';\n\n/**\n * @exports Debug - methods and helpers for debugging System emitters, zones and particles.\n */\nexport default {\n  /**\n   * Adds an event listener to the system instance's SYSTEM_UPDATE event.\n   *\n   * @param {System} system - the system instance\n   * @param {function} onSystemUpdated - the function to call when system has been updated\n   * @return {Debug}\n   */\n  addEventListener: function(system, onSystemUpdated) {\n    system.eventDispatcher.addEventListener('SYSTEM_UPDATE', onSystemUpdated);\n\n    return this;\n  },\n\n  /**\n   * Draws a wireframe mesh around the zone for debugging purposes.\n   *\n   * @param {System} system - the system instance\n   * @param {object} container - a three Object3D (usually the scene)\n   * @param {Zone} zone - a Zone instance\n   * @return void\n   */\n  drawZone: function(THREE, system, container, zone = {}) {\n    const color = '#2194ce';\n    const wireframe = true;\n    const {\n      width = size,\n      height = size,\n      depth = size,\n      radius = size,\n      x = DEFAULT_POSITION,\n      y = DEFAULT_POSITION,\n      z = DEFAULT_POSITION,\n    } = zone;\n    let geometry;\n\n    if (zone.isPointZone()) {\n      geometry = new THREE.SphereGeometry(15);\n    }\n\n    if (zone.isLineZone()) {\n      // TODO\n    }\n\n    if (zone.isBoxZone()) {\n      geometry = new THREE.BoxGeometry(width, height, depth);\n    }\n\n    if (zone.isSphereZone()) {\n      geometry = new THREE.SphereGeometry(radius, size, size);\n    }\n\n    if (zone.isMeshZone()) {\n      geometry = zone.geometry.geometry\n        ? zone.geometry.geometry.clone()\n        : zone.geometry.clone();\n    }\n\n    if (!geometry) {\n      geometry = new THREE.BoxGeometry(width, height, depth);\n    }\n\n    const material = new THREE.MeshBasicMaterial({ color, wireframe });\n    // NOTE! geometry.clone is required for UNKNOWN reasons,\n    // three does not render the mesh correctly without doing this since r88\n    const mesh = new THREE.Mesh(geometry.clone(), material);\n\n    container.add(mesh);\n\n    this.addEventListener(system, function() {\n      mesh.position.set(x, y, z);\n    });\n  },\n\n  /**\n   * Draws a mesh for each particle emitted in order to help debug particles.\n   *\n   * @param {object} system - the system instance\n   * @param {object} container - a three Object3D (usually the scene)\n   * @param {object} emitter - the emitter to debug\n   * @param {string} color - the color for the debug mesh material\n   * @return void\n   */\n  drawEmitter: function(THREE, system, container, emitter, color) {\n    const geometry = new THREE.OctahedronGeometry(size);\n    const material = new THREE.MeshBasicMaterial({\n      color: color || '#aaa',\n      wireframe: true,\n    });\n    // NOTE! geometry.clone is required for UNKNOWN reasons,\n    // three does not render the mesh correctly without doing this since r88\n    const mesh = new THREE.Mesh(geometry.clone(), material);\n\n    container.add(mesh);\n\n    this.addEventListener(system, function() {\n      mesh.position.copy(emitter.position);\n      mesh.rotation.set(\n        emitter.rotation.x,\n        emitter.rotation.y,\n        emitter.rotation.z\n      );\n    });\n  },\n\n  /**\n   * Renders emitter / particle information into the info element.\n   *\n   * @param {object} system - the system instance\n   * @param {integer} style - style to apply (see the addInfo method's switch statement)\n   * @return void\n   */\n  renderInfo: (function() {\n    function getCreatedNumber(type, system) {\n      var pool = type == 'material' ? '_materialPool' : '_targetPool';\n      var renderer = system.renderers[0];\n\n      return renderer[pool].cID;\n    }\n\n    function getEmitterPos(system) {\n      var e = system.emitters[0];\n\n      return (\n        Math.round(e.p.x) + ',' + Math.round(e.p.y) + ',' + Math.round(e.p.z)\n      );\n    }\n\n    return function(system, style) {\n      this.addInfo(style);\n      var str = '';\n\n      switch (this._infoType) {\n        case 2:\n          str += 'emitter:' + system.emitters.length + '<br>';\n          str += 'em speed:' + system.emitters[0].cID + '<br>';\n          str += 'pos:' + getEmitterPos(system);\n          break;\n\n        case 3:\n          str += system.renderers[0].name + '<br>';\n          str += 'target:' + getCreatedNumber('target') + '<br>';\n          str += 'material:' + getCreatedNumber('material');\n          break;\n\n        default:\n          str += 'particles:' + system.getCount() + '<br>';\n          str += 'pool:' + system.pool.getCount() + '<br>';\n          str += 'total:' + (system.getCount() + system.pool.getCount());\n      }\n      this._infoCon.innerHTML = str;\n    };\n  })(),\n\n  /**\n   * Appends the info element into the dom.\n   *\n   * @param {integer} style - the style type to apply\n   * @return void\n   */\n  addInfo: (function() {\n    return function(style) {\n      var self = this;\n\n      if (!this._infoCon) {\n        this._infoCon = document.createElement('div');\n        this._infoCon.style.cssText = [\n          'position:fixed;bottom:0px;left:0;cursor:pointer;',\n          'opacity:0.9;z-index:10000;padding:10px;font-size:12px;',\n          'width:120px;height:50px;background-color:#002;color:#0ff;',\n        ].join('');\n\n        this._infoType = 1;\n        this._infoCon.addEventListener(\n          'click',\n          function() {\n            self._infoType++;\n            if (self._infoType > 3) self._infoType = 1;\n          },\n          false\n        );\n\n        var bg, color;\n\n        switch (style) {\n          case 2:\n            bg = '#201';\n            color = '#f08';\n            break;\n\n          case 3:\n            bg = '#020';\n            color = '#0f0';\n            break;\n\n          default:\n            bg = '#002';\n            color = '#0ff';\n        }\n\n        this._infoCon.style['background-color'] = bg;\n        this._infoCon.style['color'] = color;\n      }\n\n      if (!this._infoCon.parentNode) document.body.appendChild(this._infoCon);\n    };\n  })(),\n};\n","export const DEFAULT_WIDTH = 10;\nexport const DEFAULT_HEIGHT = 10;\nexport const DEFAULT_DEPTH = 10;\nexport const DEFAULT_RADIUS = 15;\nexport const DEFAULT_SIZE = 15;\nexport const DEFAULT_POSITION = 0;\n","/**\n * You can use this emit particles.\n *\n * This method will console.log the fixed number of your info  in updata or requestAnimationFrame\n *\n * use like this log('+12',mc); log 12 times\n *\n * @return void\n */\nexport default function() {\n  let once = 0;\n\n  if (window.console && window.console.trace) {\n    var arg = Array.prototype.slice.call(arguments);\n    var s1 = arguments[0] + '';\n\n    if (s1.indexOf('+') == 0) {\n      var n = parseInt(arguments[0]);\n\n      if (once < n) {\n        arg.shift();\n        console.trace.apply(console, arg);\n        once++;\n      }\n    } else {\n      arg.unshift('+15');\n      this.apply(console, arg);\n    }\n  }\n}\n","import Emitter from './Emitter';\nimport THREEUtil from '../utils/THREEUtil';\nimport Util from '../utils/Util';\nimport { EMITTER_TYPE_FOLLOW as type } from './types';\n\nexport default class FollowEmitter extends Emitter {\n  /**\n   * The FollowEmitter class inherits from System.Emitter\n   *\n   * use the FollowEmitter will emit particle when mousemoving\n   *\n   * @class System.FollowEmitter\n   * @constructor\n   * @param {Element} mouseTarget mouseevent's target;\n   * @param {Number} ease the easing of following speed;\n   * @default 0.7\n   * @param {Object} pObj the parameters object;\n   */\n  constructor(mouseTarget, ease, pObj) {\n    super(pObj);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.mouseTarget = Util.initValue(mouseTarget, window);\n    this.ease = Util.initValue(ease, 0.7);\n    this._allowEmitting = false;\n    this.initEventHandler();\n  }\n\n  initEventHandler() {\n    var self = this;\n\n    this.mousemoveHandler = function(e) {\n      self.mousemove.call(self, e);\n    };\n\n    this.mousedownHandler = function(e) {\n      self.mousedown.call(self, e);\n    };\n\n    this.mouseupHandler = function(e) {\n      self.mouseup.call(self, e);\n    };\n\n    this.mouseTarget.addEventListener(\n      'mousemove',\n      this.mousemoveHandler,\n      false\n    );\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   */\n  emit() {\n    this._allowEmitting = true;\n  }\n\n  /**\n   * stop emiting\n   * @method stopEmit\n   */\n  stopEmit() {\n    this._allowEmitting = false;\n  }\n\n  setCameraAndCanvas(camera, canvas) {\n    this.camera = camera;\n    this.canvas = canvas;\n  }\n\n  mousemove(e) {\n    if (e.layerX || e.layerX == 0) {\n      this.position.x += (e.layerX - this.position.x) * this.ease;\n      this.position.y += (e.layerY - this.position.y) * this.ease;\n    } else if (e.offsetX || e.offsetX == 0) {\n      this.position.x += (e.offsetX - this.position.x) * this.ease;\n      this.position.y += (e.offsetY - this.position.y) * this.ease;\n    }\n\n    this.position.copy(\n      THREEUtil.toSpacePos(this.position, this.camera, this.canvas)\n    );\n\n    if (this._allowEmitting) super.emit('once');\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    super.destroy();\n    this.mouseTarget.removeEventListener(\n      'mousemove',\n      this.mousemoveHandler,\n      false\n    );\n  }\n}\n","import {\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n  SYSTEM_UPDATE,\n} from '../events/constants';\n\nimport { RENDERER_TYPE_BASE } from './types';\n\nexport default class BaseRenderer {\n  constructor(type = RENDERER_TYPE_BASE) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  init(system) {\n    var self = this;\n\n    this.system = system;\n\n    this.system.eventDispatcher.addEventListener(SYSTEM_UPDATE, function(\n      system\n    ) {\n      self.onSystemUpdate.call(self, system);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_CREATED, function(\n      particle\n    ) {\n      self.onParticleCreated.call(self, particle);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_UPDATE, function(\n      particle\n    ) {\n      self.onParticleUpdate.call(self, particle);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_DEAD, function(\n      particle\n    ) {\n      self.onParticleDead.call(self, particle);\n    });\n  }\n\n  remove() {\n    this.system = null;\n  }\n\n  /**\n   * @abstract\n   */\n  onParticleCreated(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onParticleUpdate(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onParticleDead(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onSystemUpdate(system) {} // eslint-disable-line\n}\n","import BaseRenderer from './BaseRenderer';\nimport { Pool } from '../core';\nimport { RENDERER_TYPE_CUSTOM as type } from './types';\n\nexport default class CustomRenderer extends BaseRenderer {\n  constructor() {\n    super(type);\n\n    this.targetPool = new Pool();\n    this.materialPool = new Pool();\n  }\n\n  onSystemUpdate() {}\n\n  onParticleCreated(particle) {} // eslint-disable-line\n\n  onParticleUpdate(particle) {} // eslint-disable-line\n\n  onParticleDead(particle) {} // eslint-disable-line\n}\n","import BaseRenderer from './BaseRenderer';\nimport { PUID } from '../utils';\nimport { Pool } from '../core';\nimport { RENDERER_TYPE_MESH as type } from './types';\n\nexport default class MeshRenderer extends BaseRenderer {\n  /**\n   * @param {object} container - An Object3D container, usually a THREE.Scene\n   * @param {object} THREE - THREE Api\n   */\n  constructor(container, THREE) {\n    super(type);\n\n    this.container = container;\n\n    this._targetPool = new Pool();\n    this._materialPool = new Pool();\n    this._body = new THREE.Mesh(\n      new THREE.BoxGeometry(50, 50, 50),\n      new THREE.MeshLambertMaterial({ color: '#ff0000' })\n    );\n  }\n\n  onSystemUpdate() {}\n\n  onParticleCreated(particle) {\n    if (!particle.target) {\n      //set target\n      if (!particle.body) particle.body = this._body;\n      particle.target = this._targetPool.get(particle.body);\n\n      //set material\n      if (particle.useAlpha || particle.useColor) {\n        particle.target.material.__puid = PUID.id(particle.body.material);\n        particle.target.material = this._materialPool.get(\n          particle.target.material\n        );\n      }\n    }\n\n    if (particle.target) {\n      particle.target.position.copy(particle.position);\n      this.container.add(particle.target);\n    }\n  }\n\n  onParticleUpdate(particle) {\n    if (particle.target) {\n      particle.target.position.copy(particle.position);\n      particle.target.rotation.set(\n        particle.rotation.x,\n        particle.rotation.y,\n        particle.rotation.z\n      );\n      this.scale(particle);\n\n      if (particle.useAlpha) {\n        particle.target.material.opacity = particle.alpha;\n        particle.target.material.transparent = true;\n      }\n\n      if (particle.useColor) {\n        particle.target.material.color.copy(particle.color);\n      }\n    }\n  }\n\n  scale(particle) {\n    particle.target.scale.set(particle.scale, particle.scale, particle.scale);\n  }\n\n  onParticleDead(particle) {\n    if (particle.target) {\n      if (particle.useAlpha || particle.useColor)\n        this._materialPool.expire(particle.target.material);\n\n      this._targetPool.expire(particle.target);\n      this.container.remove(particle.target);\n      particle.target = null;\n    }\n  }\n}\n","import BaseRenderer from './BaseRenderer';\nimport { Vector3 } from '../core/three/';\nimport { RENDERER_TYPE_POINTS as type } from './types';\n\nexport default class PointsRenderer extends BaseRenderer {\n  constructor(ps) {\n    super(type);\n\n    this.points = ps;\n  }\n\n  onSystemUpdate() {}\n\n  onParticleCreated(particle) {\n    if (!particle.target) {\n      particle.target = new Vector3();\n    }\n\n    particle.target.copy(particle.position);\n    this.points.geometry.vertices.push(particle.target);\n  }\n\n  onParticleUpdate(particle) {\n    if (particle.target) {\n      particle.target.copy(particle.position);\n    }\n  }\n\n  onParticleDead(particle) {\n    if (particle.target) {\n      var index = this.points.geometry.vertices.indexOf(particle.target);\n\n      if (index > -1) this.points.geometry.vertices.splice(index, 1);\n\n      particle.target = null;\n    }\n  }\n}\n","import MeshRenderer from './MeshRenderer';\nimport { RENDERER_TYPE_SPRITE as type } from './types';\n\nexport default class SpriteRenderer extends MeshRenderer {\n  constructor(container, THREE) {\n    super(container, THREE);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this._body = new THREE.Sprite(\n      new THREE.SpriteMaterial({ color: 0xffffff })\n    );\n  }\n\n  scale(particle) {\n    particle.target.scale.set(\n      particle.scale * particle.radius,\n      particle.scale * particle.radius,\n      1\n    );\n  }\n}\n","import { System } from './core';\n\nexport * from './behaviour';\nexport * from './debug';\nexport * from './ease';\nexport * from './emitter';\nexport * from './initializer';\nexport * from './math';\nexport * from './renderer';\nexport * from './utils';\nexport * from './zone';\nexport { System, Particle, Pool } from './core';\nexport default System;\n"],"sourceRoot":""}